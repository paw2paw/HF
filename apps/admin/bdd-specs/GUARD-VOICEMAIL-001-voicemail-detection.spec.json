{
  "id": "GUARD-VOICEMAIL-001",
  "title": "Voicemail & Answering Machine Detection",
  "version": "1.0",
  "status": "Active",
  "date": "2026-02-05",
  "domain": "safety",
  "specType": "SYSTEM",
  "specRole": "CONSTRAIN",
  "outputType": "SUPERVISE",
  "story": {
    "asA": "voice AI safety system",
    "iWant": "to detect voicemail, answering machines, and pre-recorded messages immediately",
    "soThat": "the agent never leaves a message or talks to a machine"
  },
  "context": {
    "applies": "Start of every outbound call — first 5 seconds",
    "dependsOn": [],
    "assumptions": [
      "Agent is making outbound calls",
      "Voicemail detection must happen in the first few seconds",
      "False positives (hanging up on a real person) are worse than false negatives",
      "The call platform (VAPI) may provide its own voicemail detection signals"
    ]
  },
  "parameters": [
    {
      "id": "voicemail_detection",
      "name": "Voicemail Detection Rules",
      "description": "Rules for identifying voicemail, answering machines, and automated systems",
      "section": "guardrail",
      "config": {
        "action": "end_call_tool",
        "actionDescription": "Trigger end_call_tool immediately and say nothing",
        "signals": [
          "Standard voicemail greeting phrases: 'Please leave a message', 'at the tone', 'not available'",
          "Automated system voice (robotic, TTS, or pre-recorded tone)",
          "Company IVR menu: 'Press 1 for...', 'Para espanol...'",
          "Long uninterrupted speech without breathing pauses (pre-recorded)",
          "Beep tone (voicemail ready signal)"
        ],
        "falsePositiveGuards": [
          "If unsure, wait 3 seconds and listen for natural speech patterns",
          "A real person will pause, breathe, and respond to 'Hello'",
          "Elderly callers may have slow or formal greetings — do not confuse with recordings"
        ],
        "platformIntegration": {
          "vapiSignal": "machine_detected",
          "description": "If VAPI sends machine_detected event, trigger end_call immediately"
        }
      }
    }
  ],
  "constraints": [
    {
      "id": "C-VM-1",
      "type": "safety",
      "description": "Never leave a voicemail message — hang up silently",
      "severity": "critical"
    },
    {
      "id": "C-VM-2",
      "type": "safety",
      "description": "Never speak to an automated system or IVR",
      "severity": "critical"
    },
    {
      "id": "C-VM-3",
      "type": "quality",
      "description": "Minimize false positives — real people with formal greetings should not be hung up on",
      "severity": "warning"
    }
  ]
}
