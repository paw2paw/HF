@import "tailwindcss";

/* ═══════════════════════════════════════════════════════════════════════════
   Tailwind Dark Mode Configuration
   - Use class-based dark mode (.dark on <html>) instead of media query
   - This allows explicit light/dark override while respecting system preference
   ═══════════════════════════════════════════════════════════════════════════ */
@custom-variant dark (&:is(.dark *));

/* ═══════════════════════════════════════════════════════════════════════════
   Light Theme - Softer, professional palette
   ═══════════════════════════════════════════════════════════════════════════ */
:root {
  /* Base colors */
  --background: #fafafa;
  --foreground: #1a1a1a;

  /* Surface hierarchy (cards, panels, modals) */
  --surface-primary: #ffffff;
  --surface-secondary: #f5f5f5;
  --surface-tertiary: #ebebeb;
  --surface-selected: #eef2ff;
  --surface-disabled: #e5e5e5;

  /* Text hierarchy */
  --text-primary: #1a1a1a;
  --text-secondary: #525252;
  --text-muted: #737373;
  --text-placeholder: #a3a3a3;
  --text-tertiary: #a3a3a3; /* alias for --text-placeholder */

  /* Borders */
  --border-default: #e5e5e5;
  --border-subtle: #f0f0f0;
  --border-strong: #d4d4d4;

  /* Interactive elements */
  --accent-primary: #3b82f6;
  --accent-primary-hover: #2563eb;
  --accent-primary-text: #ffffff;
  --accent: var(--accent-primary); /* shorthand alias used by communities/courses */

  /* Masquerade accent */
  --masquerade-color: #7c3aed;
  --masquerade-border: #6d28d9;

  /* Status colors - softer versions */
  --status-success-bg: #ecfdf5;
  --status-success-text: #059669;
  --status-warning-bg: #fffbeb;
  --status-warning-text: #d97706;
  --status-error-bg: #fef2f2;
  --status-error-text: #dc2626;
  --status-info-bg: #eff6ff;
  --status-info-text: #2563eb;
  --status-neutral-bg: #f5f5f5;
  --status-neutral-text: #525252;

  /* Table specific */
  --table-header-bg: #f5f5f5;
  --table-row-border: #f0f0f0;
  --table-row-hover: #fafafa;

  /* Tabs */
  --tab-active-bg: #3b82f6;
  --tab-active-text: #ffffff;
  --tab-inactive-bg: #ffffff;
  --tab-inactive-text: #525252;
  --tab-inactive-border: #e5e5e5;

  /* Badge/pill colors */
  --badge-purple-bg: #f3e8ff;
  --badge-purple-text: #7c3aed;
  --badge-blue-bg: #dbeafe;
  --badge-blue-text: #2563eb;
  --badge-blue-border: #93c5fd;
  --badge-green-bg: #dcfce7;
  --badge-green-text: #16a34a;
  --badge-green-border: #6ee7b7;
  --badge-yellow-bg: #fef3c7;
  --badge-yellow-text: #d97706;
  --badge-yellow-border: #fcd34d;
  --badge-purple-border: #c4b5fd;

  /* Buttons */
  --button-primary-bg: #4f46e5;
  --button-primary-text: #ffffff;
  --button-secondary-bg: #f3f4f6;
  --button-secondary-text: #374151;
  --button-destructive-bg: #dc2626;
  --button-destructive-text: #ffffff;
  --button-success-bg: #059669;
  --button-disabled-bg: #d1d5db;

  /* Inputs */
  --input-bg: #ffffff;
  --input-border: #d1d5db;

  /* Modal */
  --modal-bg: #ffffff;

  /* Status borders */
  --status-success-border: #bbf7d0;
  --status-warning-border: #fde047;
  --status-error-border: #fecaca;
  --status-info-border: #dbeafe;

  /* Misc */
  --hover-bg: #f9fafb;
  --code-bg: #e2e8f0;
  --code-text: #1e293b;

  /* Text on dark backgrounds (buttons, dark panels) */
  --text-on-dark: #ffffff;
  --text-on-dark-muted: #a5f3fc;

  /* Dark surfaces (terminal panels, code blocks) */
  --surface-dark: #1f2937;
  --border-dark: #374151;

  /* Terminal/log panel colors (always dark bg) */
  --terminal-success-bg: #065f46;
  --terminal-success-text: #6ee7b7;
  --terminal-error-bg: #7f1d1d;
  --terminal-error-text: #fca5a5;
  --terminal-warning-bg: #78350f;
  --terminal-warning-text: #fcd34d;
  --terminal-info-text: #93c5fd;
  --terminal-purple-text: #c4b5fd;

  /* Additional badge colors */
  --badge-pink-bg: #fce7f3;
  --badge-pink-text: #db2777;
  --badge-pink-border: #f9a8d4;
  --badge-cyan-bg: #cffafe;
  --badge-cyan-text: #06b6d4;
  --badge-cyan-border: #67e8f9;
  --badge-indigo-bg: #e0e7ff;
  --badge-indigo-text: #4f46e5;
  --badge-indigo-border: #a5b4fc;
  --badge-orange-bg: #fed7aa;
  --badge-orange-text: #9a3412;
  --badge-orange-border: #fdba74;
  --badge-lime-bg: #d9f99d;
  --badge-lime-text: #3f6212;
  --badge-lime-border: #bef264;
  --badge-red-bg: #fee2e2;
  --badge-red-text: #991b1b;
  --badge-red-border: #fca5a5;
  --badge-amber-bg: #fef9c3;
  --badge-amber-text: #854d0e;
  --badge-amber-border: #fde68a;
  --badge-violet-bg: #ede9fe;
  --badge-violet-text: #4c1d95;
  --badge-violet-border: #c4b5fd;
  --badge-gray-bg: #f3f4f6;
  --badge-gray-text: #6b7280;
  --badge-gray-border: #d1d5db;

  /* Trust level badge colors (L0-L5) */
  --trust-l5-text: #D4AF37;
  --trust-l5-bg: #FDF6E3;
  --trust-l4-text: #8B8B8B;
  --trust-l4-bg: #F5F5F5;
  --trust-l3-text: #4A90D9;
  --trust-l3-bg: #EBF3FC;
  --trust-l2-text: #2E7D32;
  --trust-l2-bg: #E8F5E9;
  --trust-l1-text: #FF8F00;
  --trust-l1-bg: #FFF3E0;
  --trust-l0-text: #B71C1C;
  --trust-l0-bg: #FFEBEE;

  /* Personality trait colors */
  --trait-openness: #3b82f6;
  --trait-conscientiousness: #10b981;
  --trait-extraversion: #f59e0b;
  --trait-agreeableness: #ec4899;
  --trait-neuroticism: #8b5cf6;

  /* Slider/Gauge colors (for LED sliders, measurements) */
  --slider-track-bg-start: #f5f5f5;
  --slider-track-bg-end: #e5e5e5;
  --slider-border: #a3a3a3;
  --slider-gauge-line: #d4d4d4;
  --slider-gauge-line-mid: #a3a3a3;
  --slider-gauge-text: #525252;
  --slider-value-text: #171717;
  --slider-label-text: #525252;
  --slider-bar-default-start: #3f3f46;
  --slider-bar-default-end: #52525b;
  --slider-target-marker: #71717a;
  --slider-led-separator: #fafafa;

  /* Tree node colors - semantic colors for explorer trees */
  --tree-node-root-bg: #f8fafc;
  --tree-node-root-border: #cbd5e1;
  --tree-node-root-text: #334155;
  --tree-node-playbook-bg: #fef3c7;
  --tree-node-playbook-border: #fcd34d;
  --tree-node-playbook-text: #92400e;
  --tree-node-group-bg: #f1f5f9;
  --tree-node-group-border: #cbd5e1;
  --tree-node-group-text: #475569;
  --tree-node-domain-bg: #dbeafe;
  --tree-node-domain-border: #93c5fd;
  --tree-node-domain-text: #1e40af;
  --tree-node-scope-bg: #ede9fe;
  --tree-node-scope-border: #c4b5fd;
  --tree-node-scope-text: #5b21b6;
  --tree-node-spec-bg: #d1fae5;
  --tree-node-spec-border: #6ee7b7;
  --tree-node-spec-text: #065f46;
  --tree-node-trigger-bg: #fef9c3;
  --tree-node-trigger-border: #fde047;
  --tree-node-trigger-text: #854d0e;
  --tree-node-action-bg: #ffedd5;
  --tree-node-action-border: #fdba74;
  --tree-node-action-text: #9a3412;
  --tree-node-parameter-bg: #ede9fe;
  --tree-node-parameter-border: #c4b5fd;
  --tree-node-parameter-text: #5b21b6;
  --tree-node-anchor-bg: #fce7f3;
  --tree-node-anchor-border: #f9a8d4;
  --tree-node-anchor-text: #9d174d;
  --tree-node-target-bg: #cffafe;
  --tree-node-target-border: #67e8f9;
  --tree-node-target-text: #155e75;
  --tree-node-config-bg: #f3f4f6;
  --tree-node-config-border: #d1d5db;
  --tree-node-config-text: #374151;
  --tree-node-template-bg: #fef3c7;
  --tree-node-template-border: #fcd34d;
  --tree-node-template-text: #92400e;
  --tree-node-info-bg: #dbeafe;
  --tree-node-info-border: #93c5fd;
  --tree-node-info-text: #1e40af;
  --tree-node-learn-bg: #f5f3ff;
  --tree-node-learn-border: #c4b5fd;
  --tree-node-learn-text: #5b21b6;
  --tree-node-instruction-bg: #d1fae5;
  --tree-node-instruction-border: #6ee7b7;
  --tree-node-instruction-text: #065f46;
}

/* ═══════════════════════════════════════════════════════════════════════════
   Dark Theme - Easy on the eyes, reduced contrast
   Applies via:
   1. .dark class on <html> (manual override - highest priority)
   2. System preference via media query (fallback when no class set)
   ═══════════════════════════════════════════════════════════════════════════ */

/* Dark mode via .dark class (manual override) */
html.dark {
  /* Base colors - not pure black */
  --background: #0f0f0f;
  --foreground: #e5e5e5;

  /* Surface hierarchy */
  --surface-primary: #171717;
  --surface-secondary: #1f1f1f;
  --surface-tertiary: #262626;
  --surface-selected: #1e3a5f;
  --surface-disabled: #2a2a2a;

  /* Text hierarchy - reduced brightness for comfort */
  --text-primary: #e5e5e5;
  --text-secondary: #a3a3a3;
  --text-muted: #737373;
  --text-placeholder: #525252;
  --text-tertiary: #525252;

  /* Borders - subtle in dark mode */
  --border-default: #2a2a2a;
  --border-subtle: #1f1f1f;
  --border-strong: #3a3a3a;

  /* Interactive elements */
  --accent-primary: #60a5fa;
  --accent-primary-hover: #3b82f6;
  --accent-primary-text: #0f0f0f;
  --accent: var(--accent-primary); /* shorthand alias */

  /* Masquerade accent — same purple works in dark mode */
  --masquerade-color: #7c3aed;
  --masquerade-border: #6d28d9;

  /* Status colors - muted for dark mode */
  --status-success-bg: #052e16;
  --status-success-text: #4ade80;
  --status-warning-bg: #422006;
  --status-warning-text: #fbbf24;
  --status-error-bg: #450a0a;
  --status-error-text: #f87171;
  --status-info-bg: #172554;
  --status-info-text: #60a5fa;
  --status-neutral-bg: #262626;
  --status-neutral-text: #a3a3a3;

  /* Table specific */
  --table-header-bg: #1f1f1f;
  --table-row-border: #262626;
  --table-row-hover: #1a1a1a;

  /* Tabs */
  --tab-active-bg: #60a5fa;
  --tab-active-text: #0f0f0f;
  --tab-inactive-bg: #171717;
  --tab-inactive-text: #a3a3a3;
  --tab-inactive-border: #2a2a2a;

  /* Badge/pill colors */
  --badge-purple-bg: #2e1065;
  --badge-purple-text: #c4b5fd;
  --badge-blue-bg: #172554;
  --badge-blue-text: #60a5fa;
  --badge-blue-border: #1e3a5f;
  --badge-green-bg: #052e16;
  --badge-green-text: #4ade80;
  --badge-green-border: #064e3b;
  --badge-yellow-bg: #422006;
  --badge-yellow-text: #fbbf24;
  --badge-yellow-border: #78350f;
  --badge-purple-border: #4c1d95;

  /* Buttons */
  --button-primary-bg: #4f46e5;
  --button-primary-text: #ffffff;
  --button-secondary-bg: #2a2a2a;
  --button-secondary-text: #e5e5e5;
  --button-destructive-bg: #dc2626;
  --button-destructive-text: #ffffff;
  --button-success-bg: #059669;
  --button-disabled-bg: #3a3a3a;

  /* Inputs */
  --input-bg: #1f1f1f;
  --input-border: #3a3a3a;

  /* Modal */
  --modal-bg: #1f1f1f;

  /* Status borders */
  --status-success-border: #065f46;
  --status-warning-border: #78350f;
  --status-error-border: #7f1d1d;
  --status-info-border: #1e3a5f;

  /* Misc */
  --hover-bg: #1a1a1a;
  --code-bg: #2a2a2a;
  --code-text: #e2e8f0;

  /* Text on dark backgrounds */
  --text-on-dark: #e5e5e5;
  --text-on-dark-muted: #67e8f9;

  /* Dark surfaces (terminal panels) - slightly lighter in dark mode for contrast */
  --surface-dark: #0f0f0f;
  --border-dark: #2a2a2a;

  /* Terminal/log panel colors */
  --terminal-success-bg: #052e16;
  --terminal-success-text: #4ade80;
  --terminal-error-bg: #450a0a;
  --terminal-error-text: #f87171;
  --terminal-warning-bg: #422006;
  --terminal-warning-text: #fbbf24;
  --terminal-info-text: #60a5fa;
  --terminal-purple-text: #c4b5fd;

  /* Additional badge colors */
  --badge-pink-bg: #500724;
  --badge-pink-text: #f9a8d4;
  --badge-pink-border: #9d174d;
  --badge-cyan-bg: #083344;
  --badge-cyan-text: #22d3ee;
  --badge-cyan-border: #0e7490;
  --badge-indigo-bg: #1e1b4b;
  --badge-indigo-text: #818cf8;
  --badge-indigo-border: #3730a3;
  --badge-orange-bg: #431407;
  --badge-orange-text: #fdba74;
  --badge-orange-border: #9a3412;
  --badge-lime-bg: #1a2e05;
  --badge-lime-text: #bef264;
  --badge-lime-border: #3f6212;
  --badge-red-bg: #3b1010;
  --badge-red-text: #fca5a5;
  --badge-red-border: #991b1b;
  --badge-amber-bg: #3d2500;
  --badge-amber-text: #fde68a;
  --badge-amber-border: #854d0e;
  --badge-violet-bg: #2e1065;
  --badge-violet-text: #c4b5fd;
  --badge-violet-border: #4c1d95;
  --badge-gray-bg: #1f2937;
  --badge-gray-text: #9ca3af;
  --badge-gray-border: #374151;

  /* Trust level badge colors (L0-L5) */
  --trust-l5-text: #E8C84A;
  --trust-l5-bg: #3D3200;
  --trust-l4-text: #A8A8A8;
  --trust-l4-bg: #2A2A2A;
  --trust-l3-text: #6BB3F0;
  --trust-l3-bg: #1A2F4A;
  --trust-l2-text: #66BB6A;
  --trust-l2-bg: #1B3B1E;
  --trust-l1-text: #FFB74D;
  --trust-l1-bg: #3D2500;
  --trust-l0-text: #EF5350;
  --trust-l0-bg: #3B1010;

  /* Personality trait colors */
  --trait-openness: #60a5fa;
  --trait-conscientiousness: #34d399;
  --trait-extraversion: #fbbf24;
  --trait-agreeableness: #f472b6;
  --trait-neuroticism: #a78bfa;

  /* Slider/Gauge colors (for LED sliders, measurements) */
  --slider-track-bg-start: #27272a;
  --slider-track-bg-end: #18181b;
  --slider-border: #3f3f46;
  --slider-gauge-line: #3f3f46;
  --slider-gauge-line-mid: #52525b;
  --slider-gauge-text: #a1a1aa;
  --slider-value-text: #e4e4e7;
  --slider-label-text: #a1a1aa;
  --slider-bar-default-start: #a1a1aa;
  --slider-bar-default-end: #71717a;
  --slider-target-marker: #a1a1aa;
  --slider-led-separator: #18181b;

  /* Tree node colors - dark mode */
  --tree-node-root-bg: #1f1f1f;
  --tree-node-root-border: #3a3a3a;
  --tree-node-root-text: #a3a3a3;
  --tree-node-playbook-bg: #422006;
  --tree-node-playbook-border: #78350f;
  --tree-node-playbook-text: #fbbf24;
  --tree-node-group-bg: #1f1f1f;
  --tree-node-group-border: #3a3a3a;
  --tree-node-group-text: #a3a3a3;
  --tree-node-domain-bg: #172554;
  --tree-node-domain-border: #1e3a5f;
  --tree-node-domain-text: #60a5fa;
  --tree-node-scope-bg: #2e1065;
  --tree-node-scope-border: #4c1d95;
  --tree-node-scope-text: #c4b5fd;
  --tree-node-spec-bg: #052e16;
  --tree-node-spec-border: #065f46;
  --tree-node-spec-text: #4ade80;
  --tree-node-trigger-bg: #422006;
  --tree-node-trigger-border: #78350f;
  --tree-node-trigger-text: #fbbf24;
  --tree-node-action-bg: #431407;
  --tree-node-action-border: #7c2d12;
  --tree-node-action-text: #fb923c;
  --tree-node-parameter-bg: #2e1065;
  --tree-node-parameter-border: #4c1d95;
  --tree-node-parameter-text: #c4b5fd;
  --tree-node-anchor-bg: #500724;
  --tree-node-anchor-border: #831843;
  --tree-node-anchor-text: #f9a8d4;
  --tree-node-target-bg: #083344;
  --tree-node-target-border: #155e75;
  --tree-node-target-text: #22d3ee;
  --tree-node-config-bg: #262626;
  --tree-node-config-border: #3a3a3a;
  --tree-node-config-text: #a3a3a3;
  --tree-node-template-bg: #422006;
  --tree-node-template-border: #78350f;
  --tree-node-template-text: #fbbf24;
  --tree-node-info-bg: #172554;
  --tree-node-info-border: #1e3a5f;
  --tree-node-info-text: #60a5fa;
  --tree-node-learn-bg: #2e1065;
  --tree-node-learn-border: #4c1d95;
  --tree-node-learn-text: #c4b5fd;
  --tree-node-instruction-bg: #052e16;
  --tree-node-instruction-border: #065f46;
  --tree-node-instruction-text: #4ade80;
}

/*
 * Dark mode via system preference (fallback when no manual override).
 * NOTE: This block MUST mirror html.dark above. When updating dark mode
 * colors, update BOTH blocks to prevent drift.
 */
@media (prefers-color-scheme: dark) {
  html:not(.light):not(.dark) {
    /* Base colors - not pure black */
    --background: #0f0f0f;
    --foreground: #e5e5e5;

    /* Surface hierarchy */
    --surface-primary: #171717;
    --surface-secondary: #1f1f1f;
    --surface-tertiary: #262626;
    --surface-selected: #1e3a5f;
    --surface-disabled: #2a2a2a;

    /* Text hierarchy - reduced brightness for comfort */
    --text-primary: #e5e5e5;
    --text-secondary: #a3a3a3;
    --text-muted: #737373;
    --text-placeholder: #525252;
    --text-tertiary: #525252;

    /* Borders - subtle in dark mode */
    --border-default: #2a2a2a;
    --border-subtle: #1f1f1f;
    --border-strong: #3a3a3a;

    /* Interactive elements */
    --accent-primary: #60a5fa;
    --accent-primary-hover: #3b82f6;
    --accent-primary-text: #0f0f0f;
    --accent: var(--accent-primary); /* shorthand alias */

    /* Masquerade accent — same purple works in dark mode */
    --masquerade-color: #7c3aed;
    --masquerade-border: #6d28d9;

    /* Status colors - muted for dark mode */
    --status-success-bg: #052e16;
    --status-success-text: #4ade80;
    --status-warning-bg: #422006;
    --status-warning-text: #fbbf24;
    --status-error-bg: #450a0a;
    --status-error-text: #f87171;
    --status-info-bg: #172554;
    --status-info-text: #60a5fa;
    --status-neutral-bg: #262626;
    --status-neutral-text: #a3a3a3;

    /* Table specific */
    --table-header-bg: #1f1f1f;
    --table-row-border: #262626;
    --table-row-hover: #1a1a1a;

    /* Tabs */
    --tab-active-bg: #60a5fa;
    --tab-active-text: #0f0f0f;
    --tab-inactive-bg: #171717;
    --tab-inactive-text: #a3a3a3;
    --tab-inactive-border: #2a2a2a;

    /* Badge/pill colors */
    --badge-purple-bg: #2e1065;
    --badge-purple-text: #c4b5fd;
    --badge-blue-bg: #172554;
    --badge-blue-text: #60a5fa;
    --badge-blue-border: #1e3a5f;
    --badge-green-bg: #052e16;
    --badge-green-text: #4ade80;
    --badge-green-border: #064e3b;
    --badge-yellow-bg: #422006;
    --badge-yellow-text: #fbbf24;
    --badge-yellow-border: #78350f;
    --badge-purple-border: #4c1d95;

    /* Buttons */
    --button-primary-bg: #4f46e5;
    --button-primary-text: #ffffff;
    --button-secondary-bg: #2a2a2a;
    --button-secondary-text: #e5e5e5;
    --button-destructive-bg: #dc2626;
    --button-destructive-text: #ffffff;
    --button-success-bg: #059669;
    --button-disabled-bg: #3a3a3a;

    /* Inputs */
    --input-bg: #1f1f1f;
    --input-border: #3a3a3a;

    /* Modal */
    --modal-bg: #1f1f1f;

    /* Status borders */
    --status-success-border: #065f46;
    --status-warning-border: #78350f;
    --status-error-border: #7f1d1d;
    --status-info-border: #1e3a5f;

    /* Misc */
    --hover-bg: #1a1a1a;
    --code-bg: #2a2a2a;
    --code-text: #e2e8f0;

    /* Text on dark backgrounds */
    --text-on-dark: #e5e5e5;
    --text-on-dark-muted: #67e8f9;

    /* Dark surfaces (terminal panels) - slightly lighter in dark mode for contrast */
    --surface-dark: #0f0f0f;
    --border-dark: #2a2a2a;

    /* Terminal/log panel colors */
    --terminal-success-bg: #052e16;
    --terminal-success-text: #4ade80;
    --terminal-error-bg: #450a0a;
    --terminal-error-text: #f87171;
    --terminal-warning-bg: #422006;
    --terminal-warning-text: #fbbf24;
    --terminal-info-text: #60a5fa;
    --terminal-purple-text: #c4b5fd;

    /* Additional badge colors */
    --badge-pink-bg: #500724;
    --badge-pink-text: #f9a8d4;
    --badge-pink-border: #9d174d;
    --badge-cyan-bg: #083344;
    --badge-cyan-text: #22d3ee;
    --badge-cyan-border: #0e7490;
    --badge-indigo-bg: #1e1b4b;
    --badge-indigo-text: #818cf8;
    --badge-indigo-border: #3730a3;
    --badge-orange-bg: #431407;
    --badge-orange-text: #fdba74;
    --badge-orange-border: #9a3412;
    --badge-lime-bg: #1a2e05;
    --badge-lime-text: #bef264;
    --badge-lime-border: #3f6212;
    --badge-red-bg: #3b1010;
    --badge-red-text: #fca5a5;
    --badge-red-border: #991b1b;
    --badge-amber-bg: #3d2500;
    --badge-amber-text: #fde68a;
    --badge-amber-border: #854d0e;
    --badge-violet-bg: #2e1065;
    --badge-violet-text: #c4b5fd;
    --badge-violet-border: #4c1d95;
    --badge-gray-bg: #1f2937;
    --badge-gray-text: #9ca3af;
    --badge-gray-border: #374151;

    /* Trust level badge colors (L0-L5) */
    --trust-l5-text: #E8C84A;
    --trust-l5-bg: #3D3200;
    --trust-l4-text: #A8A8A8;
    --trust-l4-bg: #2A2A2A;
    --trust-l3-text: #6BB3F0;
    --trust-l3-bg: #1A2F4A;
    --trust-l2-text: #66BB6A;
    --trust-l2-bg: #1B3B1E;
    --trust-l1-text: #FFB74D;
    --trust-l1-bg: #3D2500;
    --trust-l0-text: #EF5350;
    --trust-l0-bg: #3B1010;

    /* Personality trait colors */
    --trait-openness: #60a5fa;
    --trait-conscientiousness: #34d399;
    --trait-extraversion: #fbbf24;
    --trait-agreeableness: #f472b6;
    --trait-neuroticism: #a78bfa;

    /* Slider/Gauge colors (for LED sliders, measurements) */
    --slider-track-bg-start: #27272a;
    --slider-track-bg-end: #18181b;
    --slider-border: #3f3f46;
    --slider-gauge-line: #3f3f46;
    --slider-gauge-line-mid: #52525b;
    --slider-gauge-text: #a1a1aa;
    --slider-value-text: #e4e4e7;
    --slider-label-text: #a1a1aa;
    --slider-bar-default-start: #a1a1aa;
    --slider-bar-default-end: #71717a;
    --slider-target-marker: #a1a1aa;
    --slider-led-separator: #18181b;

    /* Tree node colors - dark mode */
    --tree-node-root-bg: #1f1f1f;
    --tree-node-root-border: #3a3a3a;
    --tree-node-root-text: #a3a3a3;
    --tree-node-playbook-bg: #422006;
    --tree-node-playbook-border: #78350f;
    --tree-node-playbook-text: #fbbf24;
    --tree-node-group-bg: #1f1f1f;
    --tree-node-group-border: #3a3a3a;
    --tree-node-group-text: #a3a3a3;
    --tree-node-domain-bg: #172554;
    --tree-node-domain-border: #1e3a5f;
    --tree-node-domain-text: #60a5fa;
    --tree-node-scope-bg: #2e1065;
    --tree-node-scope-border: #4c1d95;
    --tree-node-scope-text: #c4b5fd;
    --tree-node-spec-bg: #052e16;
    --tree-node-spec-border: #065f46;
    --tree-node-spec-text: #4ade80;
    --tree-node-trigger-bg: #422006;
    --tree-node-trigger-border: #78350f;
    --tree-node-trigger-text: #fbbf24;
    --tree-node-action-bg: #431407;
    --tree-node-action-border: #7c2d12;
    --tree-node-action-text: #fb923c;
    --tree-node-parameter-bg: #2e1065;
    --tree-node-parameter-border: #4c1d95;
    --tree-node-parameter-text: #c4b5fd;
    --tree-node-anchor-bg: #500724;
    --tree-node-anchor-border: #831843;
    --tree-node-anchor-text: #f9a8d4;
    --tree-node-target-bg: #083344;
    --tree-node-target-border: #155e75;
    --tree-node-target-text: #22d3ee;
    --tree-node-config-bg: #262626;
    --tree-node-config-border: #3a3a3a;
    --tree-node-config-text: #a3a3a3;
    --tree-node-template-bg: #422006;
    --tree-node-template-border: #78350f;
    --tree-node-template-text: #fbbf24;
    --tree-node-info-bg: #172554;
    --tree-node-info-border: #1e3a5f;
    --tree-node-info-text: #60a5fa;
    --tree-node-learn-bg: #2e1065;
    --tree-node-learn-border: #4c1d95;
    --tree-node-learn-text: #c4b5fd;
    --tree-node-instruction-bg: #052e16;
    --tree-node-instruction-border: #065f46;
    --tree-node-instruction-text: #4ade80;
  }
}

html,
body {
  max-width: 100vw;
  overflow-x: hidden;
}

body {
  color: var(--foreground);
  background: var(--background);
  font-family: Arial, Helvetica, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

a {
  color: inherit;
  text-decoration: none;
}

/* Color scheme for browser chrome */
html.dark {
  color-scheme: dark;
}

html.light {
  color-scheme: light;
}

@media (prefers-color-scheme: dark) {
  html:not(.light):not(.dark) {
    color-scheme: dark;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   Sidebar Guidance Animations
   - Used by GuidanceContext to highlight navigation items
   ═══════════════════════════════════════════════════════════════════════════ */

@keyframes sidebar-pulse {
  0%, 100% {
    box-shadow: 0 0 0 0 var(--accent-primary);
  }
  50% {
    box-shadow: 0 0 0 4px color-mix(in srgb, var(--accent-primary) 40%, transparent);
  }
}

@keyframes sidebar-flash {
  0%, 100% {
    background-color: transparent;
  }
  50% {
    background-color: color-mix(in srgb, var(--accent-primary) 20%, transparent);
  }
}

@keyframes sidebar-glow {
  0%, 100% {
    box-shadow: 0 0 4px 0 var(--accent-primary);
  }
  50% {
    box-shadow: 0 0 12px 2px color-mix(in srgb, var(--accent-primary) 60%, transparent);
  }
}

.sidebar-highlight-pulse {
  animation: sidebar-pulse 1.5s ease-in-out infinite;
  border-radius: 0.375rem;
}

.sidebar-highlight-flash {
  animation: sidebar-flash 0.8s ease-in-out infinite;
  border-radius: 0.375rem;
}

.sidebar-highlight-glow {
  animation: sidebar-glow 2s ease-in-out infinite;
  border-radius: 0.375rem;
}

/* ═══════════════════════════════════════════════════════════════════════════
   Tour Overlay Animations
   ═══════════════════════════════════════════════════════════════════════════ */

.tour-overlay {
  animation: tour-fade-in 0.2s ease-out;
}

.tour-tooltip {
  animation: tour-slide-in 0.3s ease-out;
}

@keyframes tour-fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes tour-slide-in {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

.tour-action-glow {
  animation: tour-glow 2s ease-in-out infinite;
}

.tour-action-glow:hover {
  animation: none;
  border-color: var(--accent-primary) !important;
  box-shadow: 0 0 12px color-mix(in srgb, var(--accent-primary) 40%, transparent);
}

@keyframes tour-glow {
  0%, 100% {
    box-shadow: 0 0 4px color-mix(in srgb, var(--accent-primary) 15%, transparent);
  }
  50% {
    box-shadow: 0 0 12px color-mix(in srgb, var(--accent-primary) 35%, transparent);
    border-color: color-mix(in srgb, var(--accent-primary) 60%, var(--border-secondary));
  }
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Personality radar chart entry animation */
@keyframes radar-scale-in {
  0% { transform: scale(0); opacity: 0; }
  60% { transform: scale(1.05); opacity: 0.8; }
  100% { transform: scale(1); opacity: 1; }
}
.hf-radar-enter {
  animation: radar-scale-in 0.6s ease-out;
}

/* ═══════════════════════════════════════════════════════════════════════════
   Login & Auth Page Styling
   - Brand colors from humanfirstfoundation.com
   - Ambient animations for premium login experience
   ═══════════════════════════════════════════════════════════════════════════ */

:root {
  --login-gold: #F5B856;
  --login-gold-hover: #E5A840;
  --login-navy: #1F1B4A;
  --login-navy-light: #2A2560;
  --login-blue: #9FB5ED;
  --login-error: #fca5a5;
  --login-error-bg: color-mix(in srgb, var(--login-error) 10%, transparent);
  --login-error-border: color-mix(in srgb, var(--login-error) 20%, transparent);
  --login-success: #86efac;
  --login-success-bg: color-mix(in srgb, var(--login-success) 15%, transparent);
}

@keyframes login-gradient-shift {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

@keyframes login-card-appear {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes login-glow-pulse {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 0.6; }
}

.login-bg {
  background: linear-gradient(
    135deg,
    #0f0a2e 0%,
    #1F1B4A 25%,
    #15123a 50%,
    #1a1640 75%,
    #0f0a2e 100%
  );
  background-size: 300% 300%;
  animation: login-gradient-shift 60s ease-in-out infinite;
}

.login-card {
  animation: login-card-appear 0.5s ease-out;
}

.login-glow {
  animation: login-glow-pulse 4s ease-in-out infinite;
}

.login-input:focus {
  border-color: var(--login-gold) !important;
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--login-gold) 20%, transparent);
  outline: none;
}

.login-btn:hover:not(:disabled) {
  filter: brightness(1.08);
  box-shadow: 0 0 30px color-mix(in srgb, var(--login-gold) 40%, transparent);
}

.login-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Login form card (glass panel) */
.login-form-card {
  border-radius: 16px;
  padding: 32px;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  backdrop-filter: blur(24px);
  background: color-mix(in srgb, var(--login-navy) 70%, transparent);
  border: 1px solid color-mix(in srgb, var(--login-blue) 20%, transparent);
}

/* Login labels */
.login-label {
  display: block;
  margin-bottom: 8px;
  font-size: 14px;
  font-weight: 500;
  color: var(--login-blue);
}

/* Login text input (base — :focus handled by .login-input above) */
.login-input {
  width: 100%;
  border-radius: 8px;
  padding: 12px 16px;
  color: white;
  transition: border-color 0.15s ease, box-shadow 0.15s ease;
  background: color-mix(in srgb, var(--login-navy-light) 80%, transparent);
  border: 1px solid color-mix(in srgb, var(--login-blue) 15%, transparent);
}
.login-input::placeholder {
  color: #737373;
}
.login-input:disabled {
  background: color-mix(in srgb, var(--login-navy-light) 60%, transparent);
  border-color: color-mix(in srgb, var(--login-blue) 10%, transparent);
  color: color-mix(in srgb, var(--login-blue) 70%, transparent);
}

/* Login primary button */
.login-btn {
  width: 100%;
  border-radius: 8px;
  padding: 12px 16px;
  font-weight: 600;
  transition: all 0.15s ease;
  background: var(--login-gold);
  color: var(--login-navy);
  box-shadow: 0 0 20px color-mix(in srgb, var(--login-gold) 25%, transparent);
  border: none;
  cursor: pointer;
}

/* Login error alert */
.login-error {
  border-radius: 8px;
  padding: 12px;
  font-size: 14px;
  background: var(--login-error-bg);
  border: 1px solid var(--login-error-border);
  color: var(--login-error);
}

/* Login body text & subtitle */
.login-text {
  color: var(--login-blue);
}
.login-text-muted {
  color: color-mix(in srgb, var(--login-blue) 60%, transparent);
}

/* Login divider footer (e.g. "Admin access only") */
.login-footer {
  margin-top: 24px;
  padding-top: 16px;
  text-align: center;
  font-size: 12px;
  border-top: 1px solid color-mix(in srgb, var(--login-blue) 15%, transparent);
  color: color-mix(in srgb, var(--login-blue) 60%, transparent);
}
.login-footer a {
  color: inherit;
  text-decoration: none;
}
.login-footer a:hover {
  text-decoration: underline;
}

/* Login icon circle (verify, error, success states) */
.login-icon-circle {
  margin: 0 auto 24px;
  display: flex;
  width: 80px;
  height: 80px;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
}
.login-icon-circle-sm {
  margin: 0 auto 16px;
  display: flex;
  width: 56px;
  height: 56px;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
}
.login-icon-circle-gold {
  background: color-mix(in srgb, var(--login-gold) 15%, transparent);
  color: var(--login-gold);
}
.login-icon-circle-error {
  background: var(--login-error-bg);
  color: var(--login-error);
}
.login-icon-circle-success {
  background: var(--login-success-bg);
  color: var(--login-success);
}

/* Login secondary / ghost button */
.login-btn-secondary {
  display: inline-block;
  border-radius: 8px;
  padding: 10px 24px;
  font-size: 14px;
  font-weight: 500;
  transition: background 0.15s ease;
  background: color-mix(in srgb, var(--login-blue) 15%, transparent);
  color: var(--login-blue);
  text-decoration: none;
}
.login-btn-secondary:hover {
  background: color-mix(in srgb, var(--login-blue) 25%, transparent);
}

/* Login back link */
.login-back-link {
  display: inline-block;
  margin-top: 24px;
  font-size: 14px;
  color: var(--login-blue);
  text-decoration: none;
  transition: color 0.15s ease;
}
.login-back-link:hover {
  color: white;
}

/* Logo container */
.login-logo {
  margin: 0 auto 16px;
  display: flex;
  width: 64px;
  height: 64px;
  align-items: center;
  justify-content: center;
  border-radius: 16px;
  overflow: hidden;
  background: var(--login-navy-light);
  box-shadow: 0 4px 24px color-mix(in srgb, var(--login-gold) 20%, transparent);
}

/* ══════════════════════════════════════════════════════
   HF Design System — Settings Page Gold Standard
   All new UI must use these classes. See CLAUDE.md.
   ══════════════════════════════════════════════════════ */

/* Page Headers */
.hf-page-title {
  font-size: 24px;
  font-weight: 700;
  color: var(--text-primary);
  margin: 0;
}
.hf-page-subtitle {
  font-size: 14px;
  color: var(--text-secondary);
  margin-top: 4px;
  margin-bottom: 0;
}

/* Cards / Panels */
.hf-card {
  background: var(--surface-primary);
  border: 1px solid var(--border-default);
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
}
.hf-card-compact {
  background: var(--surface-primary);
  border: 1px solid var(--border-default);
  border-radius: 12px;
  padding: 16px;
  margin-bottom: 16px;
}

/* Section titles (inside cards) */
.hf-section-title {
  font-size: 15px;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 4px;
}
.hf-section-desc {
  font-size: 13px;
  color: var(--text-muted);
  margin-bottom: 16px;
}

/* Info footer blocks */
.hf-info-footer {
  padding: 16px;
  background: var(--surface-secondary);
  border-radius: 12px;
  display: flex;
  align-items: center;
  gap: 12px;
}

/* Icon boxes (36×36 rounded containers) */
.hf-icon-box {
  width: 36px;
  height: 36px;
  border-radius: 10px;
  background: var(--surface-secondary);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  flex-shrink: 0;
}
.hf-icon-box-lg {
  width: 44px;
  height: 44px;
  border-radius: 12px;
  background: var(--surface-tertiary);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  flex-shrink: 0;
}

/* Labels */
.hf-label {
  display: block;
  font-size: 12px;
  font-weight: 600;
  color: var(--text-secondary);
  margin-bottom: 6px;
}

/* Inputs */
.hf-input {
  width: 100%;
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid var(--border-default);
  background: var(--surface-secondary);
  color: var(--text-primary);
  font-size: 14px;
  outline: none;
  transition: border-color 0.15s ease;
}
.hf-input:focus {
  border-color: var(--accent-primary);
}
.hf-input::placeholder {
  color: var(--text-placeholder);
}

/* Buttons */
.hf-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 10px 16px;
  font-size: 14px;
  font-weight: 500;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.15s ease;
  border: none;
}
.hf-btn-primary {
  background: var(--button-primary-bg);
  color: var(--button-primary-text);
}
.hf-btn-primary:hover {
  filter: brightness(1.1);
}
.hf-btn-secondary {
  background: transparent;
  color: var(--text-primary);
  border: 1px solid var(--border-default);
}
.hf-btn-secondary:hover {
  background: var(--surface-secondary);
}
.hf-btn-destructive {
  background: color-mix(in srgb, var(--button-destructive-bg) 4%, transparent);
  color: var(--button-destructive-bg);
  border: 1px solid color-mix(in srgb, var(--button-destructive-bg) 25%, transparent);
}
.hf-btn-destructive:hover {
  background: color-mix(in srgb, var(--button-destructive-bg) 10%, transparent);
}

/* Loading spinner */
.hf-spinner {
  width: 24px;
  height: 24px;
  border: 2px solid var(--border-default);
  border-top-color: var(--accent-primary);
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

/* Empty state */
.hf-empty {
  display: flex;
  justify-content: center;
  padding: 80px 16px;
  font-size: 14px;
  color: var(--text-muted);
}

/* List rows (icon + label + value pattern) */
.hf-list-row {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px 0;
  border-bottom: 1px solid var(--border-subtle);
}
.hf-list-row:last-child {
  border-bottom: none;
}

/* Status banners */
.hf-banner {
  padding: 12px 16px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  gap: 12px;
  font-size: 13px;
  margin-bottom: 16px;
}
.hf-banner-info {
  background: var(--status-info-bg);
  border: 1px solid color-mix(in srgb, var(--status-info-text) 25%, transparent);
  color: var(--status-info-text);
}
.hf-banner-warning {
  background: var(--status-warning-bg);
  border: 1px solid color-mix(in srgb, var(--status-warning-text) 25%, transparent);
  color: var(--status-warning-text);
}
.hf-banner-success {
  background: var(--status-success-bg);
  border: 1px solid color-mix(in srgb, var(--status-success-text) 30%, transparent);
  color: var(--status-success-text);
}
.hf-banner-error {
  background: var(--status-error-bg);
  border: 1px solid color-mix(in srgb, var(--status-error-text) 30%, transparent);
  color: var(--status-error-text);
}

/* Category labels (sidebar headers, tab section labels) */
.hf-category-label {
  font-size: 11px;
  font-weight: 600;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

/* Badge (small inline tag) */
.hf-badge {
  display: inline-flex;
  align-items: center;
  font-size: 11px;
  font-weight: 600;
  padding: 2px 8px;
  border-radius: 6px;
  white-space: nowrap;
}
.hf-badge-success {
  background: var(--status-success-bg);
  color: var(--status-success-text);
}
.hf-badge-warning {
  background: var(--status-warning-bg);
  color: var(--status-warning-text);
}
.hf-badge-error {
  background: var(--status-error-bg);
  color: var(--status-error-text);
}
.hf-badge-info {
  background: var(--status-info-bg);
  color: var(--status-info-text);
}
.hf-badge-muted {
  background: var(--surface-secondary);
  color: var(--text-muted);
}

/* Flex utilities */
.hf-flex {
  display: flex;
  align-items: center;
}
.hf-flex-col {
  display: flex;
  flex-direction: column;
}
.hf-flex-between {
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.hf-flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}
.hf-flex-wrap {
  display: flex;
  flex-wrap: wrap;
}
.hf-gap-xs { gap: 4px; }
.hf-gap-sm { gap: 8px; }
.hf-gap-md { gap: 12px; }
.hf-gap-lg { gap: 16px; }
.hf-gap-xl { gap: 24px; }

/* Text utilities */
.hf-text-xxs { font-size: 10px; }
.hf-text-xs { font-size: 11px; }
.hf-text-sm { font-size: 13px; }
.hf-text-md { font-size: 14px; }
.hf-text-muted { color: var(--text-muted); }
.hf-text-secondary { color: var(--text-secondary); }
.hf-text-success { color: var(--status-success-text); }
.hf-text-error { color: var(--status-error-text); }
.hf-text-warning { color: var(--status-warning-text); }
.hf-text-placeholder { color: var(--text-placeholder); }
.hf-text-bold { font-weight: 600; }
.hf-text-center { text-align: center; }
.hf-truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.hf-line-clamp-2 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}
.hf-mono {
  font-family: monospace;
  font-size: 12px;
}

/* Spacing utilities */
.hf-p-xs { padding: 4px; }
.hf-p-sm { padding: 8px; }
.hf-p-12 { padding: 12px; }
.hf-p-md { padding: 16px; }
.hf-p-20 { padding: 20px; }
.hf-p-lg { padding: 24px; }
.hf-mb-sm { margin-bottom: 8px; }
.hf-mb-md { margin-bottom: 16px; }
.hf-mb-lg { margin-bottom: 24px; }
.hf-mt-sm { margin-top: 8px; }
.hf-mt-md { margin-top: 16px; }
.hf-mt-xs { margin-top: 4px; }
.hf-mb-xs { margin-bottom: 4px; }
.hf-ml-auto { margin-left: auto; }

/* Alignment utilities */
.hf-items-center { align-items: center; }
.hf-items-start { align-items: start; }
.hf-flex-1 { flex: 1; }
.hf-flex-shrink-0 { flex-shrink: 0; }
.hf-nowrap { white-space: nowrap; }
.hf-text-primary { color: var(--text-primary); }
.hf-text-italic { font-style: italic; }
.hf-text-500 { font-weight: 500; }
.hf-pre-wrap { margin: 0; white-space: pre-wrap; }
.hf-cursor-help { cursor: help; }

/* Button size modifiers defined in full below (search .hf-btn-sm) */

/* Inline action button (no border/bg, text-only, compact) */
.hf-btn-inline {
  background: none;
  border: none;
  cursor: pointer;
  font-size: 11px;
  padding: 2px 4px;
}

/* Empty state hint (smaller, more muted) */
.hf-empty-state-hint {
  font-size: 12px;
  color: var(--text-placeholder);
  margin-top: 8px;
}

/* ProgressTab patterns — empty states, gradient cards, progress bars, chips */
.hf-empty-state {
  padding: 40px;
  text-align: center;
  background: var(--background);
  border-radius: 12px;
}
.hf-empty-state-icon {
  font-size: 48px;
  margin-bottom: 16px;
}
.hf-empty-state-title {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-secondary);
}
.hf-empty-state-desc {
  font-size: 14px;
  color: var(--text-muted);
  margin-top: 4px;
}
.hf-gradient-card {
  background: linear-gradient(180deg, var(--surface-secondary) 0%, var(--surface-primary) 100%);
  border-radius: 16px;
  padding: 20px;
  border: 1px solid var(--border-default);
  box-shadow: 0 4px 24px color-mix(in srgb, var(--text-primary) 10%, transparent);
}
.hf-gradient-card-lg {
  background: linear-gradient(180deg, var(--surface-secondary) 0%, var(--surface-primary) 100%);
  border-radius: 16px;
  padding: 24px;
  border: 1px solid var(--border-default);
  box-shadow: 0 4px 24px color-mix(in srgb, var(--text-primary) 10%, transparent);
}
.hf-status-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  flex-shrink: 0;
}
.hf-section-header-label {
  font-size: 12px;
  font-weight: 600;
  letter-spacing: 0.5px;
  color: var(--text-primary);
}
.hf-profile-chip {
  font-size: 11px;
  padding: 4px 10px;
  background: var(--background);
  border: 1px solid var(--border-default);
  border-radius: 6px;
  color: var(--text-secondary);
}
.hf-profile-chip-info {
  font-size: 11px;
  padding: 4px 10px;
  background: var(--status-info-bg);
  border: 1px solid var(--status-info-border);
  border-radius: 6px;
  color: var(--status-info-text);
}
/* Progress track/fill defined in full below (search .hf-progress-track) */
.hf-slider-label {
  margin-top: 8px;
  font-size: 9px;
  font-weight: 500;
  text-align: center;
  max-width: 70px;
  line-height: 1.2;
  text-transform: uppercase;
  letter-spacing: 0.3px;
  cursor: pointer;
}
.hf-expand-btn {
  background: none;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
}
.hf-detail-panel {
  margin-top: 16px;
  background: var(--surface-primary);
  border: 1px solid var(--border-default);
  border-radius: 12px;
  overflow: hidden;
}
.hf-detail-panel-header {
  padding: 12px 16px;
  border-bottom: 1px solid var(--border-default);
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.hf-module-row {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  background: var(--surface-primary);
  border: 1px solid var(--border-default);
  border-radius: 6px;
  font-size: 11px;
}
.hf-mastery-bar-track {
  flex: 1;
  height: 8px;
  border-radius: 4px;
  background: var(--border-default);
  overflow: hidden;
}
.hf-mastery-bar-fill {
  height: 100%;
  border-radius: 4px;
  transition: width 0.3s ease;
}
.hf-plan-row {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  border-radius: 6px;
}

/* Micro badge — smaller than hf-badge, used for inline status tags */
.hf-micro-badge {
  display: inline-flex;
  align-items: center;
  font-size: 9px;
  font-weight: 600;
  padding: 2px 5px;
  border-radius: 3px;
  white-space: nowrap;
}

/* Micro pill — compact operational pill buttons */
.hf-micro-pill {
  display: inline-flex;
  align-items: center;
  font-size: 10px;
  font-weight: 600;
  padding: 3px 8px;
  border-radius: 4px;
  gap: 4px;
}

/* Terminal / logs panel base (dark panels for pipeline output) */
.hf-terminal {
  background: var(--surface-dark);
  border-top: 1px solid var(--border-default);
}
.hf-terminal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 16px;
  border-bottom: 1px solid var(--border-dark);
}
.hf-terminal-body {
  max-height: 300px;
  overflow: auto;
  padding: 8px 0;
  font-family: ui-monospace, monospace;
  font-size: 11px;
}

/* Expandable card (border + radius + overflow hidden) */
.hf-expandable-card {
  background: var(--surface-primary);
  border: 1px solid var(--border-default);
  border-radius: 8px;
  overflow: hidden;
}

/* Ghost/unstyled button (no bg, no border) */
.hf-btn-unstyled {
  background: none;
  border: none;
  cursor: pointer;
  padding: 0;
  text-align: left;
}

/* Progress bar track */
.hf-progress-track {
  width: 100%;
  height: 8px;
  background: var(--surface-tertiary);
  border-radius: 4px;
  overflow: hidden;
}
.hf-progress-fill {
  height: 100%;
  border-radius: 4px;
  transition: width 0.3s ease;
}

/* Score/stat card (used in scores/traits grid) */
.hf-stat-card {
  background: var(--surface-secondary);
  border: 1px solid var(--border-default);
  border-radius: 8px;
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* Code / prompt display blocks (dark monospace panels) */
.hf-code-block {
  background: var(--surface-dark);
  color: var(--text-on-dark);
  padding: 20px;
  border-radius: 12px;
  font-size: 14px;
  line-height: 1.7;
  white-space: pre-wrap;
  font-family: ui-monospace, monospace;
  max-height: 500px;
  overflow-y: auto;
  border: 1px solid var(--border-dark);
}
.hf-code-block-sm {
  background: var(--surface-dark);
  color: var(--text-on-dark);
  padding: 16px;
  border-radius: 8px;
  font-size: 13px;
  line-height: 1.6;
  white-space: pre-wrap;
  font-family: monospace;
  max-height: 400px;
  overflow-y: auto;
  border: 1px solid var(--border-dark);
}
.hf-code-block-raw {
  background: var(--surface-dark);
  color: var(--text-on-dark-muted);
  padding: 20px;
  border-radius: 12px;
  font-size: 12px;
  font-family: ui-monospace, monospace;
  white-space: pre-wrap;
  max-height: 600px;
  overflow-y: auto;
  border: 1px solid var(--border-dark);
}

/* Toggle button groups (segmented controls) */
.hf-toggle-group {
  display: flex;
  border-radius: 6px;
  overflow: hidden;
  border: 1px solid var(--border-default);
}
.hf-toggle-btn {
  padding: 8px 16px;
  font-size: 12px;
  font-weight: 500;
  background: var(--surface-primary);
  color: var(--text-secondary);
  border: none;
  cursor: pointer;
  transition: all 0.15s ease;
}
.hf-toggle-btn-sm {
  padding: 4px 10px;
  font-size: 11px;
}
.hf-toggle-btn-active {
  background: var(--button-primary-bg);
  color: var(--text-on-dark);
}

/* Empty states with dashed border */
.hf-empty-dashed {
  padding: 40px;
  text-align: center;
  background: var(--background);
  border-radius: 12px;
  border: 1px dashed var(--border-default);
}

/* Copy / action button (small inline) */
.hf-btn-copy {
  padding: 8px 16px;
  font-size: 12px;
  font-weight: 500;
  color: var(--text-on-dark);
  border: none;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.2s ease;
}

/* Refresh / icon button */
.hf-btn-icon {
  padding: 8px 12px;
  background: var(--surface-secondary);
  color: var(--text-secondary);
  border: 1px solid var(--border-default);
  border-radius: 6px;
  font-size: 12px;
  cursor: pointer;
}

/* Section header (h3-level, used in prompt/detail panels) */
.hf-heading-md {
  font-size: 18px;
  font-weight: 600;
  margin: 0;
}
.hf-heading-sm {
  font-size: 14px;
  font-weight: 600;
  margin-bottom: 12px;
}
.hf-heading-lg {
  font-size: 16px;
  font-weight: 600;
  margin: 0;
}

/* Small button variant (compact actions, inline buttons) */
.hf-btn-sm {
  padding: 6px 12px;
  font-size: 12px;
  font-weight: 500;
  border-radius: 6px;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  transition: all 0.15s ease;
  border: none;
}
.hf-btn-xs {
  padding: 3px 8px;
  font-size: 11px;
  font-weight: 600;
  border-radius: 4px;
  cursor: pointer;
  border: none;
  transition: all 0.15s ease;
}

/* AI button defined in full below (search .hf-btn-ai) */

/* Filter pills (compact toggleable filter chips) */
.hf-filter-pill {
  padding: 4px 10px;
  font-size: 11px;
  font-weight: 600;
  border: 1px solid var(--border-default);
  border-radius: 5px;
  cursor: pointer;
  background: var(--surface-secondary);
  color: var(--text-muted);
  transition: all 0.15s;
  display: inline-flex;
  align-items: center;
  gap: 4px;
}

/* Clear/dismiss inline button */
.hf-clear-btn {
  padding: 0 4px;
  font-size: 12px;
  font-weight: 400;
  border: none;
  border-radius: 3px;
  cursor: pointer;
  background: transparent;
  color: var(--text-placeholder);
  line-height: 1;
}

/* Vertical divider (for filter/toolbar rows) */
.hf-divider-v {
  width: 1px;
  height: 24px;
  background: var(--border-default);
  flex-shrink: 0;
}

/* Master-detail list panel */
.hf-master-list {
  width: 320px;
  flex-shrink: 0;
  overflow-y: auto;
}

/* Master-detail list item card */
.hf-master-item {
  background: var(--surface-primary);
  border: 1px solid var(--border-default);
  border-radius: 8px;
  padding: 14px;
  cursor: pointer;
  transition: border-color 0.15s, box-shadow 0.15s, opacity 0.15s;
}
.hf-master-item-selected {
  background: var(--surface-selected);
  border-color: var(--accent-primary);
}
.hf-master-item-inactive {
  opacity: 0.6;
}

/* Master-detail right panel */
.hf-master-detail-right {
  flex: 1;
  background: var(--surface-primary);
  border: 1px solid var(--border-default);
  border-radius: 8px;
  padding: 20px;
  overflow-y: auto;
}

/* Compact empty state (smaller than hf-empty) */
.hf-empty-compact {
  padding: 32px;
  text-align: center;
  background: var(--surface-secondary);
  border-radius: 8px;
}

/* Stat card value (compact, 24px variant) */
.hf-stat-value-sm {
  font-size: 24px;
  font-weight: 600;
  line-height: 1;
}

/* Circular position badge (numbered, for stacks/ordering) */
.hf-stack-badge {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: 700;
  flex-shrink: 0;
}

/* Link without text decoration */
.hf-link-plain {
  text-decoration: none;
  color: inherit;
}
.hf-link-accent {
  text-decoration: none;
  color: var(--accent-primary);
  font-weight: 500;
}

/* Micro action link (small inline link-button, e.g. "Add Content") */
.hf-micro-action {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 8px;
  font-size: 10px;
  font-weight: 600;
  border-radius: 4px;
  text-decoration: none;
}

/* Grid utilities */
.hf-grid-2 { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
.hf-grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }
.hf-grid-4 { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; }
.hf-grid-5 { display: grid; grid-template-columns: repeat(5, 1fr); gap: 8px; }

.hf-gap-20 { gap: 20px; }

/* No bottom margin override (for cards inside flex layouts) */
.hf-mb-0 { margin-bottom: 0; }

/* Progress bar (small) — 4px track variant */
.hf-progress-track-sm {
  width: 100%;
  height: 4px;
  background: var(--surface-tertiary);
  border-radius: 2px;
  overflow: hidden;
}

/* Number badge (circular, small) */
.hf-number-badge {
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--accent-primary);
  color: white;
  border-radius: 50%;
  font-size: 11px;
  font-weight: 600;
  flex-shrink: 0;
}

/* Textarea (same base as hf-input but multi-line) */
.hf-textarea {
  width: 100%;
  padding: 12px;
  border-radius: 6px;
  border: 2px solid var(--border-default);
  background: var(--surface-secondary);
  color: var(--text-primary);
  font-size: 14px;
  font-family: inherit;
  resize: vertical;
  outline: none;
  transition: border-color 0.15s ease;
}
.hf-textarea:focus {
  border-color: var(--accent-primary);
}
.hf-textarea::placeholder {
  color: var(--text-placeholder);
}

/* Select dropdown (same base styling as hf-input) */
.hf-select {
  width: 100%;
  padding: 12px;
  font-size: 14px;
  border: 2px solid var(--border-default);
  border-radius: 6px;
  background: var(--surface-primary);
  color: var(--text-primary);
  outline: none;
  transition: border-color 0.15s ease;
}
.hf-select:focus {
  border-color: var(--accent-primary);
}

/* Inline link pill (small pill for "View Layers" etc.) */
.hf-link-pill {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 3px 10px;
  font-size: 10px;
  font-weight: 600;
  color: var(--accent-primary);
  background: color-mix(in srgb, var(--accent-primary) 12%, transparent);
  border-radius: 4px;
  text-decoration: none;
  transition: opacity 0.15s;
}
.hf-link-pill:hover {
  opacity: 0.8;
}

/* Onboarding stat card (centered, with dynamic border) */
.hf-onboard-stat {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 20px 16px;
  background: var(--surface-primary);
  border-radius: 12px;
  transition: all 0.2s;
}

/* Content attachment row */
.hf-attach-row {
  display: flex;
  gap: 8px;
  align-items: center;
  margin-bottom: 6px;
  padding: 6px 8px;
  background: var(--surface-tertiary);
  border-radius: 6px;
  border: 1px solid var(--border-default);
}

/* Phase card (onboarding flow) */
.hf-phase-card {
  min-width: 220px;
  padding: 20px;
  background: var(--surface-primary);
  border: 1px solid var(--border-default);
  border-radius: 12px;
  position: relative;
  transition: all 0.2s;
}
.hf-phase-card:hover {
  border-color: var(--button-primary-bg);
  box-shadow: 0 4px 12px rgba(79, 70, 229, 0.1);
  transform: translateY(-2px);
}

/* Chip / pill selectors (e.g. duration, emphasis pickers) */
.hf-chip {
  padding: 6px 14px;
  border-radius: 6px;
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  border: 1px solid var(--border-default);
  background: var(--surface-primary);
  color: var(--text-secondary);
  transition: all 0.15s ease;
}
.hf-chip-selected {
  border-color: var(--accent-primary);
  background: color-mix(in srgb, var(--accent-primary) 10%, transparent);
  color: var(--accent-primary);
}

/* AI reasoning callout box */
.hf-ai-callout {
  padding: 12px 16px;
  border-radius: 8px;
  font-size: 13px;
  line-height: 1.6;
  background: color-mix(in srgb, var(--accent-primary) 6%, transparent);
  border: 1px solid color-mix(in srgb, var(--accent-primary) 15%, transparent);
  color: var(--text-secondary);
}

/* Hint text (below field groups) */
.hf-hint {
  font-size: 12px;
  color: var(--text-muted);
  margin-top: 6px;
}

/* Wizard step footer (sticky bottom bar) */
.hf-step-footer {
  padding: 24px;
  border-top: 1px solid var(--border-default);
  background: var(--surface-secondary);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

/* Ghost button (text-only, no border) */
.hf-btn-ghost {
  padding: 10px 20px;
  color: var(--text-secondary);
  background: transparent;
  border: none;
  cursor: pointer;
  font-size: 14px;
}
.hf-btn-ghost:hover {
  color: var(--text-primary);
}

/* Disabled state for all buttons */
.hf-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  filter: none;
}

/* Mini toggle switch (36×20, for compact UI like context menus) */
.hf-toggle-mini {
  width: 36px;
  height: 20px;
  border-radius: 10px;
  border: none;
  cursor: pointer;
  position: relative;
  transition: background 0.15s ease;
  flex-shrink: 0;
  padding: 0;
}
.hf-toggle-mini[aria-checked="true"] {
  background: var(--accent-primary);
}
.hf-toggle-mini[aria-checked="false"] {
  background: var(--surface-tertiary);
}
.hf-toggle-mini-knob {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: var(--surface-primary);
  position: absolute;
  top: 2px;
  transition: left 0.15s ease;
  box-shadow: 0 1px 2px color-mix(in srgb, var(--text-primary) 15%, transparent);
}
.hf-toggle-mini[aria-checked="true"] .hf-toggle-mini-knob {
  left: 18px;
}
.hf-toggle-mini[aria-checked="false"] .hf-toggle-mini-knob {
  left: 2px;
}

/* GF (Golden Flow) badge */
.hf-gf-badge {
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 0.05em;
  padding: 2px 6px;
  border-radius: 4px;
  background: color-mix(in srgb, var(--status-success-text) 15%, transparent);
  color: var(--status-success-text);
  border: 1px solid color-mix(in srgb, var(--status-success-text) 25%, transparent);
}

/* Tab buttons (underline style) */
.hf-tab {
  padding: 8px 16px;
  border: none;
  background: transparent;
  color: var(--text-muted);
  border-bottom: 2px solid transparent;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  text-transform: capitalize;
}
.hf-tab:hover {
  color: var(--text-secondary);
}
.hf-tab-active {
  color: var(--button-primary-bg);
  border-bottom-color: var(--button-primary-bg);
}

/* Stat card value (big number) */
.hf-stat-value {
  font-size: 32px;
  font-weight: 700;
  line-height: 1;
  margin-bottom: 6px;
}

/* Stat card label (small uppercase) */
.hf-stat-label {
  font-size: 12px;
  color: var(--text-muted);
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

/* Back link (breadcrumb-style nav link) */
.hf-back-link {
  color: var(--text-muted);
  font-size: 13px;
  text-decoration: none;
  display: flex;
  align-items: center;
  gap: 4px;
  margin-bottom: 12px;
}
.hf-back-link:hover {
  color: var(--text-secondary);
}

/* Summary stat card (compact metric display) */
.hf-summary-card {
  padding: 12px 16px;
  background: var(--surface-primary);
  border: 1px solid var(--border-default);
  border-radius: 8px;
}
.hf-summary-card-label {
  display: flex;
  align-items: center;
  gap: 6px;
  color: var(--text-muted);
  font-size: 12px;
  margin-bottom: 4px;
}
.hf-summary-card-value {
  font-size: 22px;
  font-weight: 700;
  color: var(--text-primary);
}
.hf-summary-card-sub {
  font-size: 12px;
  font-weight: 400;
  color: var(--text-muted);
  margin-left: 4px;
}

/* Table header (uppercase label row) */
.hf-table-header {
  display: grid;
  padding: 10px 16px;
  background: var(--surface-secondary);
  font-size: 11px;
  font-weight: 600;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

/* Table row (hoverable grid row) */
.hf-table-row {
  display: grid;
  padding: 12px 16px;
  cursor: pointer;
  transition: background 0.1s;
}
.hf-table-row:hover {
  background: var(--surface-secondary);
}

/* Table container (bordered rounded wrapper) */
.hf-table-container {
  border: 1px solid var(--border-default);
  border-radius: 10px;
  overflow: hidden;
}

/* Sort/filter chip button */
.hf-sort-btn {
  padding: 4px 10px;
  font-size: 12px;
  border: 1px solid var(--border-default);
  border-radius: 4px;
  background: transparent;
  color: var(--text-muted);
  cursor: pointer;
  font-weight: 400;
}
.hf-sort-btn-active {
  background: color-mix(in srgb, var(--accent-primary) 15%, transparent);
  color: var(--accent-primary);
  font-weight: 600;
}

/* Inline form input (settings-style, bordered) */
.hf-form-input {
  width: 100%;
  padding: 8px 12px;
  border: 1px solid var(--input-border);
  border-radius: 6px;
  font-size: 14px;
  background: var(--surface-primary);
  color: var(--text-primary);
  box-sizing: border-box;
}
.hf-form-input:focus {
  border-color: var(--accent-primary);
  outline: none;
}
.hf-form-input::placeholder {
  color: var(--text-placeholder);
}

/* Form label (settings-style) */
.hf-form-label {
  display: block;
  font-size: 13px;
  font-weight: 500;
  color: var(--text-secondary);
  margin-bottom: 4px;
}

/* Picker item (selectable row in dropdown/picker) */
.hf-picker-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 12px;
  background: var(--surface-primary);
  border: 1px solid var(--border-default);
  border-radius: 6px;
}

/* Activity row (hoverable card link) */
.hf-activity-row {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  background: var(--surface-primary);
  border: 1px solid var(--border-default);
  border-radius: 8px;
  cursor: pointer;
  transition: border-color 0.15s;
}
.hf-activity-row:hover {
  border-color: var(--accent-primary);
}

/* Inline icon placeholder color */
.hf-icon-placeholder {
  color: var(--text-placeholder);
}

/* No-decoration link wrapper */
.hf-link-unstyled {
  text-decoration: none;
  color: inherit;
}

/* Modal/Overlay defined in full below (search .hf-modal-overlay) */

/* ── Page container (max-width centered) ── */
.hf-page-container {
  padding: 24px;
  max-width: 1400px;
  margin: 0 auto;
}

/* ── Card grid (auto-fill responsive) ── */
.hf-card-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
  gap: 10px;
}

/* ── Floating action bar (bottom-center) ── */
.hf-floating-bar {
  position: fixed;
  bottom: 24px;
  left: 50%;
  transform: translateX(-50%);
  background: var(--surface-tertiary);
  color: var(--text-primary);
  padding: 12px 24px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  gap: 16px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.2);
  z-index: 1000;
}

/* ── Mini action button (icon-only, compact) ── */
.hf-btn-mini {
  padding: 5px 10px;
  font-size: 12px;
  border-radius: 5px;
  cursor: pointer;
  border: 1px solid var(--border-default);
  background: var(--surface-secondary);
  color: var(--text-secondary);
}
.hf-btn-mini-success {
  background: var(--status-success-bg);
  color: var(--status-success-text);
  border-color: var(--status-success-border);
}
.hf-btn-mini-error {
  background: var(--status-error-bg);
  color: var(--status-error-text);
  border-color: var(--status-error-border);
}
.hf-btn-mini-warning {
  background: var(--status-warning-bg);
  color: var(--status-warning-text);
  border-color: var(--status-warning-border);
}
.hf-btn-mini-info {
  background: var(--status-info-bg);
  color: var(--status-info-text);
  border-color: var(--status-info-border);
}
.hf-btn-mini-confirm {
  padding: 5px 10px;
  font-size: 10px;
  font-weight: 600;
  background: var(--button-destructive-bg);
  color: var(--text-on-dark);
  border: none;
  border-radius: 5px;
  cursor: pointer;
}
.hf-btn-mini-cancel {
  padding: 5px 8px;
  font-size: 10px;
  background: var(--surface-secondary);
  color: var(--text-muted);
  border: none;
  border-radius: 5px;
  cursor: pointer;
}

/* ── AI button (purple tint) ── */
.hf-btn-ai {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 14px;
  font-size: 13px;
  font-weight: 500;
  background: color-mix(in srgb, var(--accent-secondary, #8b5cf6) 10%, transparent);
  color: var(--accent-secondary, #8b5cf6);
  border: 1px solid color-mix(in srgb, var(--accent-secondary, #8b5cf6) 20%, transparent);
  border-radius: 6px;
  cursor: pointer;
}

/* ── Info box (workflow hint, comparison helper) ── */
.hf-info-box {
  background: var(--surface-secondary);
  padding: 12px;
  border-radius: 8px;
  font-size: 13px;
  color: var(--text-secondary);
}

/* ── Form field wrapper ── */
.hf-field {
  margin-bottom: 16px;
}
.hf-field-label {
  display: block;
  font-size: 13px;
  font-weight: 500;
  margin-bottom: 6px;
  color: var(--text-secondary);
}

/* ── Sidebar Navigation ── */
.sidebar-nav-item {
  display: flex;
  align-items: center;
  gap: 10px;
  border-radius: 8px;
  padding: 8px 10px;
  font-size: 13px;
  transition: all 0.12s ease;
  text-decoration: none;
}
.sidebar-nav-item:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--accent-primary) 30%, transparent);
}

/* Collapsed icon button (used in sidebar icon rail) */
.sidebar-icon-btn {
  position: relative;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 10px;
  color: var(--text-muted);
  transition: all 0.12s ease;
  flex-shrink: 0;
  cursor: pointer;
  border: none;
  background: transparent;
  text-decoration: none;
}
.sidebar-icon-btn:hover {
  background: var(--hover-bg);
  color: var(--text-primary);
}
.sidebar-icon-btn-active {
  background: color-mix(in srgb, var(--accent-primary) 10%, transparent);
  color: var(--accent-primary);
}

/* ── Status Bar ── */
.hf-status-bar {
  height: 32px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-top: 1px solid var(--border-subtle);
  background: var(--surface-secondary);
  padding: 0 8px;
  font-size: 11px;
  color: var(--text-muted);
  gap: 4px;
  z-index: 60;
}
.hf-status-bar-masquerade {
  background: var(--masquerade-color);
  color: #ffffff;
  border-top-color: var(--masquerade-border);
}
.hf-status-item {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  padding: 2px 8px;
  border-radius: 4px;
  font-weight: 500;
  white-space: nowrap;
  transition: background 120ms ease;
  cursor: default;
  user-select: none;
}
.hf-status-item:hover {
  background: color-mix(in srgb, var(--text-muted) 10%, transparent);
}
.hf-status-bar-masquerade .hf-status-item:hover {
  background: rgba(255, 255, 255, 0.15);
}
.hf-status-separator {
  color: color-mix(in srgb, var(--text-muted) 40%, transparent);
  font-weight: 400;
  margin: 0 1px;
}
.hf-status-bar-masquerade .hf-status-separator {
  color: rgba(255, 255, 255, 0.5);
}
.hf-status-exit-btn {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 10px;
  border-radius: 4px;
  border: none;
  background: rgba(255, 255, 255, 0.2);
  color: #fff;
  font-size: 11px;
  font-weight: 600;
  cursor: pointer;
  transition: background 120ms ease;
}
.hf-status-exit-btn:hover {
  background: rgba(255, 255, 255, 0.3);
}
.hf-status-env-badge {
  display: inline-flex;
  align-items: center;
  padding: 1px 6px;
  border-radius: 3px;
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 0.04em;
  color: #fff;
}
.hf-status-health-dot {
  width: 7px;
  height: 7px;
  border-radius: 50%;
  flex-shrink: 0;
}
.hf-status-version {
  font-size: 11px;
  font-weight: 400;
  color: color-mix(in srgb, var(--text-muted) 70%, transparent);
}
.hf-status-bar-masquerade .hf-status-version {
  color: rgba(255, 255, 255, 0.6);
}
.hf-status-bug-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 14px;
  height: 14px;
  border-radius: 7px;
  background: var(--status-error-text);
  color: #fff;
  font-size: 9px;
  font-weight: 700;
  padding: 0 3px;
  line-height: 1;
}

/* Deep logging indicator */
.hf-status-deep-dot {
  width: 7px;
  height: 7px;
  border-radius: 50%;
  flex-shrink: 0;
  background: var(--text-muted);
  transition: background 200ms ease;
}
.hf-status-deep-dot-active {
  background: var(--status-error-text);
  animation: hf-deep-pulse 1.5s ease-in-out infinite;
}
@keyframes hf-deep-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.4; }
}
.hf-status-deep-logging-active {
  color: var(--status-error-text) !important;
  font-weight: 600;
}

/* Additional StatusBar layout classes */
.hf-status-cluster {
  display: flex;
  align-items: center;
  gap: 6px;
  min-width: 0;
}
.hf-status-cluster-right {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-shrink: 0;
}
.hf-status-bold {
  font-weight: 600;
}
.hf-status-clickable {
  cursor: pointer;
}

/* Jobs indicator chip */
.hf-status-jobs-chip {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 8px;
  border-radius: 4px;
  font-weight: 600;
  white-space: nowrap;
  cursor: pointer;
  user-select: none;
  transition: background 120ms ease;
  color: var(--accent-primary);
}
.hf-status-jobs-chip:hover {
  background: color-mix(in srgb, var(--accent-primary) 12%, transparent);
}
.hf-status-jobs-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 14px;
  height: 14px;
  border-radius: 7px;
  background: var(--accent-primary);
  color: #fff;
  font-size: 9px;
  font-weight: 700;
  padding: 0 3px;
  line-height: 1;
}
@keyframes hf-spin {
  to { transform: rotate(360deg); }
}
.hf-status-jobs-spin {
  animation: hf-spin 2s linear infinite;
}

/* Jobs chip — idle state (no active jobs) */
.hf-status-jobs-chip-idle {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 8px;
  border-radius: 4px;
  font-weight: 500;
  white-space: nowrap;
  cursor: pointer;
  user-select: none;
  transition: background 120ms ease;
  color: var(--text-muted);
}
.hf-status-jobs-chip-idle:hover {
  background: color-mix(in srgb, var(--text-muted) 10%, transparent);
}

/* ── Jobs Popup ────────────────────────────── */
.jobs-popup {
  position: fixed;
  bottom: 38px;
  left: 8px;
  width: 340px;
  max-height: 420px;
  background: var(--surface-primary);
  border: 1px solid var(--border-default);
  border-radius: 12px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12), 0 2px 8px rgba(0, 0, 0, 0.08);
  display: flex;
  flex-direction: column;
  z-index: 100;
  overflow: hidden;
  animation: jobs-popup-in 150ms ease-out;
}
@keyframes jobs-popup-in {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}
.jobs-popup-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 14px;
  border-bottom: 1px solid var(--border-subtle);
  flex-shrink: 0;
}
.jobs-popup-title {
  font-size: 13px;
  font-weight: 700;
  color: var(--text-primary);
}
.jobs-popup-close {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  border-radius: 6px;
  border: none;
  background: transparent;
  color: var(--text-muted);
  cursor: pointer;
  transition: background 120ms ease;
}
.jobs-popup-close:hover {
  background: var(--surface-secondary);
}
.jobs-popup-body {
  flex: 1;
  overflow-y: auto;
  padding: 6px 0;
}
.jobs-popup-loading {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 32px 0;
}
.jobs-popup-empty {
  text-align: center;
  padding: 28px 16px;
  color: var(--text-muted);
  font-size: 12px;
}
.jobs-popup-section {
  padding: 0 4px;
}
.jobs-popup-section + .jobs-popup-section {
  margin-top: 4px;
  padding-top: 4px;
  border-top: 1px solid var(--border-subtle);
}
.jobs-popup-section-label {
  font-size: 10px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--text-muted);
  padding: 4px 10px 2px;
}
.jobs-popup-row {
  display: flex;
  align-items: flex-start;
  gap: 8px;
  padding: 8px 10px;
  border-radius: 8px;
  cursor: pointer;
  transition: background 120ms ease;
}
.jobs-popup-row:hover {
  background: var(--surface-secondary);
}
.jobs-popup-row-icon {
  flex-shrink: 0;
  margin-top: 2px;
  color: var(--text-muted);
}
.jobs-popup-row-content {
  flex: 1;
  min-width: 0;
}
.jobs-popup-row-name {
  font-size: 12px;
  font-weight: 600;
  color: var(--text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.jobs-popup-row-meta {
  font-size: 11px;
  color: var(--text-muted);
  margin-top: 1px;
}
.jobs-popup-icon-success {
  color: var(--status-success-text);
}
.jobs-popup-icon-error {
  color: var(--status-error-text);
}
.jobs-popup-progress-track {
  height: 3px;
  background: var(--border-subtle);
  border-radius: 2px;
  margin-top: 4px;
  overflow: hidden;
}
.jobs-popup-progress-fill {
  height: 100%;
  background: var(--accent-primary);
  border-radius: 2px;
  transition: width 300ms ease;
}
.jobs-popup-footer {
  border-top: 1px solid var(--border-subtle);
  padding: 8px 14px;
  flex-shrink: 0;
}
.jobs-popup-viewall {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: 12px;
  font-weight: 600;
  color: var(--accent-primary);
  background: none;
  border: none;
  cursor: pointer;
  padding: 2px 0;
  transition: opacity 120ms ease;
}
.jobs-popup-viewall:hover {
  opacity: 0.8;
}

/* Institution name — truncate long org names */
.hf-status-institution-name {
  max-width: 180px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  display: inline-block;
  vertical-align: middle;
}

/* Subtle vertical separator between left and right clusters */
.hf-status-bar > .hf-status-cluster-right::before {
  content: '';
  width: 1px;
  height: 16px;
  background: var(--border-subtle);
  margin-right: 2px;
  flex-shrink: 0;
}
.hf-status-bar-masquerade > .hf-status-cluster-right::before {
  background: rgba(255, 255, 255, 0.25);
}

/* ── Health Popup ────────────────────────────── */
.health-popup {
  position: fixed;
  bottom: 38px;
  left: 8px;
  width: 380px;
  max-height: 460px;
  background: var(--surface-primary);
  border: 1px solid var(--border-default);
  border-radius: 12px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12), 0 2px 8px rgba(0, 0, 0, 0.08);
  display: flex;
  flex-direction: column;
  z-index: 100;
  overflow: hidden;
  animation: jobs-popup-in 150ms ease-out;
}
.health-popup-header-left {
  display: flex;
  align-items: center;
  gap: 8px;
}
.health-popup-rag-badge {
  display: inline-flex;
  align-items: center;
  padding: 1px 7px;
  border-radius: 10px;
  font-size: 10px;
  font-weight: 600;
}
.health-popup-rag-green {
  background: color-mix(in srgb, var(--status-success-text) 12%, transparent);
  color: var(--status-success-text);
}
.health-popup-rag-amber {
  background: color-mix(in srgb, var(--status-warning-text) 12%, transparent);
  color: var(--status-warning-text);
}
.health-popup-rag-red {
  background: color-mix(in srgb, var(--status-error-text) 12%, transparent);
  color: var(--status-error-text);
}
.health-popup-check-row {
  display: flex;
  align-items: flex-start;
  gap: 8px;
  padding: 8px 14px;
}
.health-popup-check-row:hover {
  background: color-mix(in srgb, var(--text-muted) 5%, transparent);
}
.health-popup-check-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  flex-shrink: 0;
  margin-top: 4px;
}
.health-popup-dot-pass { background: var(--status-success-text); }
.health-popup-dot-warn { background: var(--status-warning-text); }
.health-popup-dot-fail { background: var(--status-error-text); }
.health-popup-check-content {
  flex: 1;
  min-width: 0;
}
.health-popup-check-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 6px;
}
.health-popup-check-label {
  font-size: 12px;
  font-weight: 600;
  color: var(--text-primary);
}
.health-popup-sev-pill {
  font-size: 9px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  padding: 1px 5px;
  border-radius: 4px;
  flex-shrink: 0;
}
.health-popup-sev-critical { color: var(--status-error-text); }
.health-popup-sev-recommended { color: var(--status-warning-text); }
.health-popup-sev-optional { color: var(--text-muted); }
.health-popup-check-message {
  font-size: 11px;
  color: var(--text-muted);
  margin-top: 2px;
}
.health-popup-remediation {
  font-size: 10px;
  color: var(--status-warning-text);
  margin-top: 2px;
  font-style: italic;
}
.health-popup-no-data {
  padding: 28px 16px;
  text-align: center;
  color: var(--text-muted);
  font-size: 12px;
}
.health-popup-footer-time {
  font-size: 11px;
  color: var(--text-muted);
  flex: 1;
}

/* ── Calls Popup ────────────────────────────── */
.calls-popup {
  position: fixed;
  bottom: 38px;
  left: 8px;
  width: 320px;
  max-height: 380px;
  background: var(--surface-primary);
  border: 1px solid var(--border-default);
  border-radius: 12px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12), 0 2px 8px rgba(0, 0, 0, 0.08);
  display: flex;
  flex-direction: column;
  z-index: 100;
  overflow: hidden;
  animation: jobs-popup-in 150ms ease-out;
}
.calls-popup-stats {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 14px 16px;
  gap: 0;
  border-bottom: 1px solid var(--border-subtle);
}
.calls-popup-stat {
  display: flex;
  flex-direction: column;
  align-items: center;
  flex: 1;
}
.calls-popup-stat-value {
  font-size: 20px;
  font-weight: 700;
  color: var(--text-primary);
  line-height: 1.1;
}
.calls-popup-stat-label {
  font-size: 10px;
  color: var(--text-muted);
  font-weight: 500;
  margin-top: 2px;
  text-transform: uppercase;
  letter-spacing: 0.04em;
}
.calls-popup-stat-divider {
  width: 1px;
  height: 32px;
  background: var(--border-subtle);
}

/* ── Version Popup ────────────────────────────── */
.version-popup {
  position: fixed;
  bottom: 38px;
  right: 8px;
  width: 260px;
  background: var(--surface-primary);
  border: 1px solid var(--border-default);
  border-radius: 12px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12), 0 2px 8px rgba(0, 0, 0, 0.08);
  display: flex;
  flex-direction: column;
  z-index: 100;
  overflow: hidden;
  animation: jobs-popup-in 150ms ease-out;
}
.version-popup-rows {
  padding: 8px 14px;
}
.version-popup-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 6px 0;
  border-bottom: 1px solid var(--border-subtle);
}
.version-popup-row:last-child {
  border-bottom: none;
}
.version-popup-row-label {
  font-size: 11px;
  color: var(--text-muted);
  font-weight: 500;
}
.version-popup-row-value {
  font-size: 11px;
  font-weight: 600;
  color: var(--text-primary);
}

/* ── Agent Tuner ────────────────────────────── */

.hf-tuner-layout {
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.hf-tuner-input-row {
  display: flex;
  gap: 10px;
}
.hf-tuner-input-fill {
  flex: 1;
}
.hf-tuner-suggest-btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  white-space: nowrap;
}
.hf-tuner-interpretation {
  font-size: 13px;
  font-style: italic;
  color: var(--text-muted);
}
.hf-tuner-pills {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}
.hf-tuner-pill {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 14px;
  border-radius: 20px;
  background: var(--status-info-bg);
  border: 1px solid var(--accent-primary);
  font-size: 14px;
  font-weight: 500;
  color: var(--text-primary);
}
.hf-tuner-pill-remove {
  background: none;
  border: none;
  cursor: pointer;
  padding: 0;
  font-size: 16px;
  line-height: 1;
  color: var(--text-muted);
  font-weight: 700;
}

/* ── Agent Tuning Panel ────────────────────────── */

.hf-tuning-loading {
  padding: 16px;
  color: var(--text-muted);
  font-size: 13px;
}
.hf-tuning-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 24px;
}
.hf-tuning-grid-compact {
  grid-template-columns: 1fr;
  gap: 16px;
}
.hf-tuning-matrix-item {
  display: flex;
  flex-direction: column;
  gap: 6px;
}
.hf-tuning-matrix-name {
  font-size: 13px;
  font-weight: 600;
  color: var(--text-primary);
}
.hf-tuning-matrix-name-compact {
  font-size: 12px;
}
.hf-tuning-matrix-desc {
  font-size: 11px;
  color: var(--text-muted);
  margin-bottom: 2px;
}
.hf-tuning-preset-label {
  font-size: 12px;
  font-weight: 500;
  color: var(--accent-primary);
  margin-top: 2px;
}

/* ── Boston Matrix ────────────────────────────── */

.hf-matrix-wrapper {
  display: inline-flex;
  flex-direction: column;
  gap: 6px;
  user-select: none;
}
.hf-matrix-grid {
  position: relative;
  touch-action: none;
}
.hf-matrix-bg {
  position: absolute;
  border-radius: 8px;
  background: var(--surface-secondary);
  border: 1px solid var(--border-default);
}
.hf-matrix-gridline {
  position: absolute;
}
.hf-matrix-axis-label {
  position: absolute;
  font-size: 10px;
  font-weight: 500;
  color: var(--text-muted);
}
.hf-matrix-axis-label-y {
  writing-mode: vertical-rl;
  transform: rotate(180deg);
}
.hf-matrix-preset {
  position: absolute;
  border-radius: 50%;
  z-index: 1;
  transition: all 0.15s ease;
}
.hf-matrix-dot {
  position: absolute;
  border-radius: 50%;
  background: var(--accent-primary);
  border: 3px solid var(--surface-primary);
  box-shadow: 0 2px 8px color-mix(in srgb, var(--accent-primary) 40%, transparent);
  z-index: 2;
  pointer-events: none;
}
.hf-matrix-chips {
  display: flex;
  gap: 4px;
  flex-wrap: wrap;
}
.hf-matrix-chip {
  padding: 3px 8px;
  border-radius: 12px;
  font-size: 11px;
  transition: all 0.15s ease;
  white-space: nowrap;
  border: 1px solid var(--border-default);
  background: transparent;
  font-weight: 400;
  color: var(--text-muted);
}
.hf-matrix-chip-active {
  border-color: var(--accent-primary);
  background: color-mix(in srgb, var(--accent-primary) 10%, transparent);
  font-weight: 600;
  color: var(--accent-primary);
}

/* ── Playbook Builder ─────────────────────────── */

/* Modal overlay (fixed fullscreen backdrop) */
.hf-modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}
.hf-modal-overlay-dark {
  background: rgba(0, 0, 0, 0.6);
}

/* Modal dialog card */
.hf-modal {
  background: var(--surface-primary);
  border-radius: 12px;
  max-width: 600px;
  max-height: 80vh;
  width: 90%;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}
.hf-modal-lg {
  max-width: 480px;
  border-radius: 16px;
  padding: 32px;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
  border: 1px solid var(--border-default);
}

/* Modal header / footer */
.hf-modal-header {
  padding: 16px 20px;
  border-bottom: 1px solid var(--border-default);
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.hf-modal-footer {
  padding: 16px 20px;
  border-top: 1px solid var(--border-default);
  display: flex;
  justify-content: flex-end;
  gap: 8px;
}
.hf-modal-body {
  flex: 1;
  overflow-y: auto;
  padding: 20px;
}
.hf-modal-title {
  font-size: 18px;
  font-weight: 700;
  color: var(--text-primary);
  margin: 0 0 4px 0;
}
.hf-modal-desc {
  font-size: 14px;
  color: var(--text-muted);
  margin: 0 0 16px 0;
}
.hf-modal-actions {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 16px;
}

/* Column header (sticky top, used in 4-col grid) */
.hf-col-header {
  margin-bottom: 16px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: sticky;
  top: 0;
  background: var(--surface-primary);
  padding-bottom: 8px;
  z-index: 1;
}

/* Toggle switch (40x22 pill) */
.hf-toggle {
  width: 40px;
  height: 22px;
  border-radius: 11px;
  border: none;
  cursor: pointer;
  position: relative;
  transition: background 0.15s;
  flex-shrink: 0;
}
.hf-toggle-on {
  background: var(--status-success-text);
}
.hf-toggle-off {
  background: var(--button-disabled-bg);
}
.hf-toggle-knob {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: var(--surface-primary);
  position: absolute;
  top: 2px;
  transition: left 0.15s;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}

/* Hover-reveal delete button (absolute positioned) */
.hf-delete-hover {
  position: absolute;
  top: 6px;
  right: 6px;
  width: 20px;
  height: 20px;
  border-radius: 4px;
  border: none;
  background: var(--status-error-bg);
  color: var(--status-error-text);
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 5;
}

/* Config reset button (tiny centered) */
.hf-btn-reset-tiny {
  margin-top: 4px;
  font-size: 8px;
  padding: 2px 6px;
  background: var(--surface-secondary);
  border: 1px solid var(--border-default);
  border-radius: 3px;
  cursor: pointer;
  display: block;
  margin-left: auto;
  margin-right: auto;
  color: var(--text-muted);
}

/* Playbook item card (spec row in columns) */
.hf-pb-item {
  position: relative;
  background: var(--surface-primary);
  border-radius: 8px;
  overflow: hidden;
  transition: all 0.15s;
}

/* System spec reference (read-only cards in columns) */
.hf-pb-system-ref {
  background: var(--surface-secondary);
  border: 1px solid var(--border-default);
  border-radius: 8px;
  padding: 8px 12px;
  opacity: 0.85;
}

/* hf-micro-badge defined earlier in design system section */
.hf-micro-badge-sm {
  font-size: 8px;
  padding: 1px 4px;
  border-radius: 3px;
  font-weight: 600;
}

/* Config field card (for override modal) */
.hf-config-field {
  padding: 12px;
  border-radius: 8px;
  border: 1px solid var(--border-default);
  background: var(--background);
}
.hf-config-field-overridden {
  background: var(--status-warning-bg);
  border-color: var(--status-warning-border);
}

/* Spec group section header (within system specs column) */
.hf-spec-group-header {
  font-size: 10px;
  font-weight: 600;
  color: var(--text-muted);
  letter-spacing: 0.05em;
  margin-bottom: 6px;
  padding-bottom: 4px;
  border-bottom: 1px solid var(--input-border);
}

/* ── Create Spec Page ──────────────────────────── */

.hf-step-badge {
  width: 32px;
  height: 32px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 13px;
  flex-shrink: 0;
}
.hf-step-badge-active {
  background: linear-gradient(135deg, var(--accent-primary) 0%, var(--badge-indigo-text, #6366f1) 100%);
  color: white;
  box-shadow: 0 2px 8px color-mix(in srgb, var(--badge-indigo-text, #6366f1) 30%, transparent);
}
.hf-step-badge-inactive {
  background: var(--surface-tertiary);
  color: var(--text-muted);
}
.hf-step-badge-sm {
  width: 24px;
  height: 24px;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: 700;
}
.hf-step-header-title {
  font-size: 18px;
  font-weight: 700;
  color: var(--text-primary);
  margin: 0;
}
.hf-step-header-desc {
  font-size: 13px;
  color: var(--text-muted);
  margin: 2px 0 0;
}
.hf-back-btn {
  width: 40px;
  height: 40px;
  border-radius: 12px;
  background: var(--surface-secondary);
  border: 1px solid var(--border-default);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  text-decoration: none;
  transition: all 0.15s ease;
}
.hf-back-btn:hover {
  background: var(--surface-tertiary);
}
.hf-ai-avatar {
  width: 56px;
  height: 56px;
  border-radius: 16px;
  background: linear-gradient(135deg, var(--accent-secondary, #8b5cf6) 0%, var(--badge-indigo-text, #6366f1) 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 28px;
  box-shadow: 0 4px 16px color-mix(in srgb, var(--accent-secondary, #8b5cf6) 30%, transparent);
  flex-shrink: 0;
}
.hf-ai-title {
  font-size: 20px;
  font-weight: 800;
  color: var(--text-primary);
  margin: 0;
}
.hf-toast {
  position: fixed;
  top: 24px;
  right: 24px;
  z-index: 1000;
  padding: 16px 20px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  gap: 12px;
  font-weight: 600;
  font-size: 14px;
  animation: slideInRight 0.3s ease-out;
}
.hf-toast-ai {
  background: linear-gradient(135deg, var(--accent-secondary, #8b5cf6) 0%, var(--badge-indigo-text, #6366f1) 100%);
  color: white;
  box-shadow: 0 8px 24px color-mix(in srgb, var(--accent-secondary, #8b5cf6) 40%, transparent);
}
.hf-modal-icon {
  width: 64px;
  height: 64px;
  border-radius: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 20px;
  font-size: 28px;
}
.hf-step-connector {
  width: 24px;
  height: 2px;
  background: var(--border-default);
  margin: 0 4px;
}
.hf-chat-avatar {
  width: 36px;
  height: 36px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  flex-shrink: 0;
}
.hf-chat-bubble {
  flex: 1;
  padding: 12px 16px;
  border-radius: 12px;
  font-size: 14px;
  line-height: 1.6;
  white-space: pre-wrap;
  color: var(--text-primary);
  border: 1px solid var(--border-default);
}
.hf-param-card {
  background: var(--surface-secondary);
  border-radius: 16px;
  border: 1px solid var(--border-default);
  padding: 20px;
}
.hf-param-index {
  width: 28px;
  height: 28px;
  border-radius: 8px;
  background: linear-gradient(135deg, var(--accent-primary) 0%, var(--badge-indigo-text, #6366f1) 100%);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: 700;
  flex-shrink: 0;
}
.hf-link-btn {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 16px;
  font-size: 13px;
  font-weight: 600;
  border-radius: 10px;
  text-decoration: none;
  transition: all 0.15s ease;
}
.hf-link-btn-accent {
  border: 1px solid var(--accent-primary);
  background: color-mix(in srgb, var(--accent-primary) 8%, transparent);
  color: var(--accent-primary);
}
.hf-link-btn-warning {
  border: 1px solid var(--status-warning-border);
  background: var(--status-warning-bg);
  color: var(--status-warning-text);
}
.hf-json-preview {
  background: var(--code-bg);
  border-radius: 16px;
  padding: 20px;
  max-height: 320px;
  overflow: auto;
  border: 1px solid var(--border-default);
}
.hf-json-preview pre {
  font-size: 12px;
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  color: var(--code-text);
  white-space: pre-wrap;
  margin: 0;
  line-height: 1.6;
}
.hf-autosave-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--status-warning-text);
  animation: pulse 2s infinite;
}
.hf-btn-gradient-primary {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 12px 24px;
  font-size: 14px;
  font-weight: 600;
  border-radius: 10px;
  border: none;
  background: linear-gradient(135deg, var(--accent-primary) 0%, var(--badge-indigo-text, #6366f1) 100%);
  color: white;
  cursor: pointer;
  box-shadow: 0 4px 12px color-mix(in srgb, var(--badge-indigo-text, #6366f1) 30%, transparent);
}
.hf-btn-gradient-success {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 12px 24px;
  font-size: 14px;
  font-weight: 600;
  border-radius: 10px;
  border: none;
  background: linear-gradient(135deg, var(--status-success-text) 0%, var(--status-success-accent, #059669) 100%);
  color: white;
  cursor: pointer;
  box-shadow: 0 4px 12px color-mix(in srgb, var(--status-success-text, #10b981) 30%, transparent);
}
.hf-spinner-inline {
  width: 16px;
  height: 16px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-top-color: white;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}
.hf-surface-section {
  background: var(--surface-secondary);
  border-radius: 16px;
  padding: 20px;
}

/* Wizard Summary styles extracted to components/shared/wizard-summary.css */

/* Metering styles extracted to app/x/metering/metering.css */

/* ── Specs Page ────────────────────────────── */

/* Collapsible section toggle (unstyled button with caret + label) */
.hf-collapse-toggle {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  font-weight: 600;
  color: var(--text-secondary);
  background: none;
  border: none;
  cursor: pointer;
}
.hf-collapse-toggle-light {
  font-weight: 500;
}

/* Inline editable cell (display mode) */
.hf-inline-cell {
  cursor: text;
  padding: 2px 4px;
  border-radius: 3px;
  min-height: 18px;
  font-size: 11px;
  line-height: 1.4;
  border: 1px solid transparent;
  transition: border-color 0.15s;
}
.hf-inline-cell:hover {
  border-color: var(--border-default);
}
.hf-inline-cell-disabled {
  cursor: default;
}
.hf-inline-cell-disabled:hover {
  border-color: transparent;
}
.hf-inline-cell-saving {
  opacity: 0.6;
}

/* Inline editable cell (edit mode inputs) */
.hf-inline-edit {
  width: 100%;
  padding: 3px 4px;
  border: 1px solid var(--accent-primary);
  border-radius: 3px;
  font-size: 11px;
  background: var(--surface-primary);
  color: var(--text-primary);
}
.hf-inline-edit-textarea {
  resize: vertical;
  line-height: 1.4;
}

/* Metadata grid (3-column label/value pairs) */
.hf-meta-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 16px;
  font-size: 12px;
}
.hf-meta-label {
  color: var(--text-muted);
}
.hf-meta-value {
  color: var(--text-primary);
}

/* Table header cell (compact uppercase) */
.hf-th {
  padding: 6px 8px;
  text-align: left;
  font-weight: 600;
  font-size: 10px;
  color: var(--text-muted);
  border-bottom: 2px solid var(--border-default);
  text-transform: uppercase;
}

/* Table body cell */
.hf-td {
  padding: 8px 8px;
  border-bottom: 1px solid var(--border-default);
  vertical-align: top;
}
.hf-td-sub {
  padding: 5px 8px;
  border-bottom: 1px solid var(--border-subtle);
}

/* Remove/delete micro button (transparent, error on hover) */
.hf-btn-remove {
  padding: 2px 4px;
  border-radius: 4px;
  border: none;
  background: transparent;
  font-size: 12px;
  cursor: pointer;
  color: var(--status-error-text);
  opacity: 0.6;
  transition: opacity 0.15s;
}
.hf-btn-remove:hover {
  opacity: 1;
}
.hf-btn-remove-sm {
  padding: 1px 4px;
  border-radius: 3px;
  border: none;
  background: transparent;
  font-size: 10px;
  cursor: pointer;
  color: var(--text-muted);
  opacity: 0.5;
  transition: opacity 0.15s, color 0.15s;
}
.hf-btn-remove-sm:hover {
  opacity: 1;
  color: var(--status-error-text);
}

/* hf-filter-pill defined earlier in design system section */

/* Spec list card (clickable row in master panel) */
.hf-spec-card {
  border: 1px solid var(--border-default);
  border-radius: 8px;
  padding: 12px;
  cursor: pointer;
  transition: border-color 0.15s, box-shadow 0.15s;
  background: var(--surface-primary);
}
.hf-spec-card-selected {
  background: var(--surface-selected);
  border-color: var(--accent-primary);
}

/* hf-divider-v defined earlier in design system section */

/* Trigger modal (wider variant of hf-modal) */
.hf-modal-trigger {
  background: var(--surface-primary);
  border-radius: 16px;
  padding: 28px;
  width: 640px;
  max-width: 90vw;
  max-height: 90vh;
  overflow: auto;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
}

/* Source authority collapsible panel */
.hf-source-panel {
  margin-bottom: 20px;
  border: 1px solid var(--border-default);
  border-radius: 8px;
  overflow: hidden;
}
.hf-source-panel-header {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 14px;
  background: var(--surface-secondary);
  border: none;
  cursor: pointer;
  font-size: 12px;
  font-weight: 600;
  color: var(--text-secondary);
}

/* Source row (primary/secondary source display) */
.hf-source-row {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  background: var(--surface-primary);
  border: 1px solid var(--border-default);
  border-radius: 6px;
}
.hf-source-row-secondary {
  padding: 6px 12px;
  border-color: var(--border-subtle);
  margin-bottom: 4px;
}

/* Trust badge (tiny colored tag) */
.hf-trust-badge {
  font-size: 10px;
  font-weight: 600;
  padding: 2px 6px;
  border-radius: 4px;
}

/* Source select (dropdown for picking sources) */
.hf-source-select {
  width: 100%;
  padding: 8px 12px;
  font-size: 12px;
  border-radius: 6px;
  border: 1px solid var(--border-default);
  background: var(--surface-primary);
  color: var(--text-primary);
}
.hf-source-select-secondary {
  padding: 6px 12px;
  font-size: 11px;
  border-style: dashed;
  color: var(--text-secondary);
  margin-top: 4px;
}

/* Small remove link (text-only, for source rows) */
.hf-btn-remove-link {
  margin-left: auto;
  font-size: 10px;
  color: var(--status-error-text);
  background: none;
  border: none;
  cursor: pointer;
}

/* Prompt template textarea */
.hf-prompt-textarea {
  width: 100%;
  font-family: monospace;
  font-size: 11px;
  border: 1px solid var(--input-border);
  border-radius: 8px;
  padding: 12px;
  resize: vertical;
}

/* Spec detail description box */
.hf-spec-desc {
  background: var(--surface-secondary);
  border: 1px solid var(--border-default);
  border-radius: 8px;
  padding: 12px;
  margin-bottom: 20px;
  font-size: 13px;
  color: var(--text-secondary);
}

/* Data flow banner */
.hf-data-flow {
  background: linear-gradient(to right, var(--status-info-bg), var(--surface-selected));
  border: 1px solid var(--status-info-border);
  border-radius: 8px;
  padding: 12px;
  margin-bottom: 20px;
}

/* Scoring anchors grid */
.hf-anchor-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 4px;
  font-size: 10px;
}
.hf-anchor-cell {
  background: var(--surface-secondary);
  border: 1px solid var(--border-default);
  border-radius: 4px;
  padding: 4px 6px;
  text-align: center;
}

/* Trigger form input style */
.hf-trigger-input {
  width: 100%;
  padding: 6px 8px;
  border-radius: 4px;
  border: 1px solid var(--border-default);
  background: var(--surface-primary);
  font-size: 12px;
  color: var(--text-primary);
  font-family: inherit;
  resize: vertical;
}

/* Trigger form label */
.hf-trigger-label {
  font-size: 11px;
  font-weight: 600;
  color: var(--text-secondary);
  margin-bottom: 3px;
  display: block;
}
.hf-trigger-label-xs {
  font-size: 10px;
}

/* Action card in trigger modal */
.hf-action-card {
  margin-bottom: 8px;
  padding: 10px;
  border: 1px solid var(--border-default);
  border-radius: 6px;
  background: var(--surface-secondary);
}

/* Full-page flex layout (100vh, column, no overflow) */
.hf-page-full { height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
/* Master-detail split layout */
.hf-master-detail { display: flex; gap: 16px; flex: 1; min-height: 0; }
/* Sidebar panel with fixed width */
.hf-sidebar-panel { width: 380px; flex-shrink: 0; display: flex; flex-direction: column; }
/* View toggle header (list/tree mode) */
.hf-view-toggle-header { padding: 8px 12px; background: var(--surface-secondary); border: 1px solid var(--border-default); border-radius: 8px 8px 0 0; border-bottom: none; }
/* Content list area below toggle header */
.hf-content-list-area { flex: 1; overflow-y: auto; background: var(--surface-primary); border: 1px solid var(--border-default); border-radius: 0 0 8px 8px; }
/* Detail panel (right side of master-detail) */
.hf-detail-panel { flex: 1; border-radius: 8px; padding: 20px; overflow-y: auto; margin-bottom: 0; }
/* Compact header card for page header sections */
.hf-header-card { padding: 12px 16px; border-radius: 8px; margin-bottom: 16px; }
/* Tiny icon button (expand/collapse) */
.hf-btn-micro { padding: 2px 6px; font-size: 9px; font-weight: 600; }
/* Compact search input in filter bar */
.hf-search-input { padding: 6px 10px; border: 1px solid var(--input-border); border-radius: 6px; width: 160px; font-size: 12px; align-self: center; }
/* Sync badge (warning link with count) */
.hf-sync-badge { padding: 4px 10px; border-radius: 6px; font-weight: 600; font-size: 11px; text-decoration: none; border: 1px solid var(--status-warning-border); }
.hf-sync-count { background: var(--status-warning-text); color: white; border-radius: 10px; padding: 1px 6px; font-size: 10px; font-weight: 700; }
/* AI gradient button (specs page Ask AI) */
.hf-btn-ai-gradient { padding: 6px 12px; background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-secondary, #8b5cf6) 100%); color: white; border-radius: 6px; font-size: 12px; gap: 6px; }
/* Section separator (top border with spacing) */
.hf-section-sep { border-top: 1px solid var(--border-default); padding-top: 20px; }
.hf-section-sep-spaced { border-top: 1px solid var(--border-default); padding-top: 20px; margin-top: 20px; }
/* Section heading (small, secondary) */
.hf-section-heading { font-weight: 500; margin-bottom: 12px; }
/* Data flow heading */
.hf-data-flow-heading { font-size: 12px; font-weight: 600; color: var(--accent-primary); margin-bottom: 8px; }
/* Inline text placeholder (italic, muted) */
.hf-placeholder { color: var(--text-placeholder); font-style: italic; }
/* Clear filter button */
.hf-btn-clear { padding: 0 4px; font-size: 12px; color: var(--text-placeholder); line-height: 1; }
/* Source panel inner padding */
.hf-source-panel-body { padding: 14px; }
/* Spec name in source row */
.hf-source-name { font-size: 12px; font-weight: 500; }
.hf-source-name-secondary { font-size: 12px; }
/* Link styled as accent */
.hf-link-accent { color: var(--accent-primary); }
/* Save/action button (standard size for spec actions) */
.hf-btn-action { padding: 8px 16px; border-radius: 6px; font-size: 13px; }
.hf-btn-action-sm { padding: 8px 16px; border-radius: 6px; font-size: 12px; }
/* Text with font-weight 500 */
.hf-text-medium { font-weight: 500; }
/* Add-trigger button */
.hf-btn-add-trigger { margin-left: auto; padding: 4px 10px; border-radius: 4px; font-size: 11px; font-weight: 600; border-color: var(--accent-primary); color: var(--accent-primary); }
/* Freshness link */
.hf-freshness-link { margin-left: auto; font-size: 11px; font-weight: 600; text-decoration: underline; }
/* Trigger form field group spacing */
.hf-form-group { margin-bottom: 12px; }
/* Empty state with background */
.hf-empty-bg { padding: 12px; background: var(--surface-secondary); border-radius: 6px; }
/* Spec detail title (h2-style) */
.hf-detail-title { font-size: 20px; font-weight: 700; color: var(--text-primary); margin: 0; }
/* Large empty icon */
.hf-empty-icon-lg { font-size: 48px; margin-bottom: 12px; }
/* Table full-width with collapsed borders */
.hf-table { width: 100%; border-collapse: collapse; font-size: 12px; }
/* Graph link badge */
.hf-badge-link { border: 1px solid var(--border-default); text-decoration: none; gap: 4px; margin-left: auto; color: var(--text-primary); }
/* Add-action row */
.hf-add-action-row { background: var(--surface-secondary); }
.hf-add-action-cell { padding: 4px 8px; border-bottom: 2px solid var(--border-default); }
.hf-add-action-btn { padding: 2px 8px; }
/* Spec card margin-bottom 0 override */
.hf-card-compact-flush { margin-bottom: 0; }
/* View toggle button (list/tree active state) */
.hf-view-toggle { font-weight: 600; border: 1px solid var(--input-border); border-radius: 4px; background: var(--surface-primary); color: var(--text-muted); }
.hf-view-toggle-active { border-color: var(--accent-primary); background: var(--surface-selected); color: var(--accent-primary); }
/* Save/recompile/export dynamic buttons */
.hf-btn-save { background: var(--accent-primary); color: white; }
.hf-btn-recompile { background: var(--status-warning-text); color: white; }
.hf-btn-export { background: var(--status-error-text); color: white; }
.hf-btn-inactive { background: var(--surface-disabled); color: var(--text-placeholder); }
/* Compact freshness banner */
.hf-banner-compact { padding: 8px 14px; margin-bottom: 12px; border-radius: 8px; font-size: 12px; }
/* Tree panel inner padding */
.hf-panel-body-tree { padding: 8px; }
/* No outline */
.hf-no-outline { outline: none; min-height: 100%; }
/* Cursor pointer for select */
.hf-cursor-pointer { cursor: pointer; }
/* Width 70px (for weight input in modal) */
.hf-w-70 { width: 70px; }
/* Spec action button row + trigger actions margin-top */
.hf-mt-lg { margin-top: 24px; }
/* Banner error font-size override */
.hf-banner-sm { font-size: 12px; }

/* ── Content Sources Library ────────────────────────── */

/* Extra utilities */
.hf-no-decoration { text-decoration: none; }
.hf-w-full { width: 100%; }
.hf-hidden { display: none; }
.hf-text-right { text-align: right; }
.hf-word-break-all { word-break: break-all; }
.hf-border-top { border-top: 1px solid var(--border-default); }
.hf-gap-2xl { gap: 32px; }
.hf-gap-14 { gap: 14px; }
.hf-gap-10 { gap: 10px; }
.hf-min-w-0 { min-width: 0; }
.hf-relative { position: relative; }

/* ── Users Page ─────────────────────────────── */

/* Avatar circles */
.hf-avatar-sm {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  font-weight: 600;
}
.hf-avatar {
  width: 44px;
  height: 44px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  font-size: 16px;
  font-weight: 700;
  color: white;
}
.hf-avatar-lg {
  width: 52px;
  height: 52px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  font-size: 20px;
  font-weight: 700;
  color: white;
}

/* Auto-fill card grid (responsive, min 300px columns) */
.hf-grid-cards {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 16px;
}

/* Role pill (full rounded pill) */
.hf-role-pill {
  display: inline-flex;
  align-items: center;
  padding: 3px 10px;
  font-size: 12px;
  font-weight: 600;
  border-radius: 999px;
}

/* User card (clickable card with hover effect) */
.hf-user-card {
  padding: 20px;
  border-radius: 12px;
  position: relative;
  background: var(--surface-primary);
  border: 1px solid var(--border-default);
  cursor: pointer;
  transition: box-shadow 0.2s, border-color 0.2s;
}
.hf-user-card:hover {
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
  border-color: var(--button-primary-bg);
}
.hf-user-card-inactive {
  border-color: color-mix(in srgb, var(--status-error-text) 20%, transparent);
  opacity: 0.6;
}
.hf-user-card-inactive:hover {
  border-color: var(--button-primary-bg);
}

/* Inactive badge (absolute positioned top-right) */
.hf-inactive-badge {
  position: absolute;
  top: 12px;
  right: 12px;
  padding: 2px 8px;
  font-size: 10px;
  font-weight: 600;
  border-radius: 999px;
  background: color-mix(in srgb, var(--status-error-text) 13%, transparent);
  color: var(--status-error-text);
}

/* Invite preview grid (label: value pairs) */
.hf-preview-grid {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 6px 16px;
  font-size: 14px;
}

/* Dashed border box (for invite cards, previews) */
.hf-dashed-box {
  padding: 10px 14px;
  border-radius: 8px;
  border: 1px dashed var(--border-default);
}

/* Surface box (secondary bg with border) */
.hf-surface-box {
  padding: 16px;
  border-radius: 8px;
  background: var(--surface-secondary);
  border: 1px solid var(--border-default);
}

/* Surface box dashed variant */
.hf-surface-box-dashed {
  padding: 12px;
  border-radius: 8px;
  background: var(--surface-secondary);
  border: 1px dashed var(--border-default);
}

/* Success box (for result/confirmation panels) */
.hf-success-box {
  padding: 16px;
  border-radius: 8px;
  background: var(--status-success-bg);
  border: 1px solid var(--status-success-border);
}

/* Success link box (white bg inside success area) */
.hf-success-link-box {
  padding: 10px 14px;
  border-radius: 8px;
  background: var(--surface-primary);
  border: 1px solid var(--status-success-border);
}

/* Admin settings row (bordered row for toggle/action items) */
.hf-settings-row {
  padding: 12px 14px;
  border-radius: 8px;
  border: 1px solid var(--border-default);
}

/* Audit log table */
.hf-audit-table-wrap {
  margin-top: 12px;
  max-height: 256px;
  overflow-y: auto;
  border-radius: 8px;
  border: 1px solid var(--border-default);
}
.hf-audit-table {
  width: 100%;
  font-size: 13px;
  border-collapse: collapse;
}
.hf-audit-th {
  padding: 8px 12px;
  font-weight: 500;
  text-align: left;
  background: var(--surface-secondary);
}
.hf-audit-td {
  padding: 8px 12px;
}
.hf-audit-tr {
  border-top: 1px solid var(--border-default);
}

/* Email sent/not sent micro badge */
.hf-email-badge {
  padding: 2px 8px;
  border-radius: 4px;
  font-size: 11px;
  font-weight: 600;
  color: white;
}

/* Status dot (6px indicator) */
.hf-status-dot-sm {
  width: 6px;
  height: 6px;
  border-radius: 50%;
}

/* Toggle link (text-only clickable, accent color) */
.hf-toggle-link {
  color: var(--button-primary-bg);
  background: none;
  border: none;
  cursor: pointer;
  padding: 0;
}

/* Modal backdrop with blur */
.hf-modal-overlay-blur {
  position: fixed;
  inset: 0;
  z-index: 9999;
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
}

/* User editor modal dialog */
.hf-user-editor {
  background: var(--surface-primary);
  border-radius: 16px;
  padding: 32px;
  box-shadow: 0 24px 48px rgba(0, 0, 0, 0.3);
  border: 1px solid var(--border-default);
  width: 480px;
  max-width: 90vw;
  max-height: 90vh;
  overflow: auto;
}

/* Heading 18px (modal title level) */
.hf-heading-modal {
  font-size: 18px;
  font-weight: 600;
  color: var(--text-primary);
}

/* Placeholder avatar (muted circle for pending invites) */
.hf-avatar-placeholder {
  background: var(--border-default);
  font-size: 14px;
  color: var(--text-muted);
}

/* "(you)" inline tag */
.hf-you-tag {
  margin-left: 6px;
  font-weight: 400;
}

/* Success-outlined button (copy link, etc.) */
.hf-btn-success-outline {
  border-radius: 6px;
  border: 1px solid var(--status-success-text);
  background: var(--status-success-bg);
  color: var(--status-success-text);
}

/* Confirm delete button (solid red) */
.hf-btn-confirm-delete {
  background: var(--status-error-text);
  color: white;
}

/* HTML table (collapses borders, standard <table>) */
.hf-html-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 13px;
}
.hf-thead-border {
  border-bottom: 2px solid var(--border-default);
}
.hf-tr-border {
  border-bottom: 1px solid var(--border-subtle);
}
.hf-tr-no-border {
  border-bottom: none;
}
.hf-tr-awaiting {
  background: color-mix(in srgb, var(--accent-primary) 3%, transparent);
}

/* Form panel container */
.hf-form-panel {
  padding: 16px;
  border: 1px solid var(--border-default);
  border-radius: 8px;
  margin-bottom: 16px;
  background-color: var(--surface-secondary);
}

/* Compact form input (smaller than hf-input) */
.hf-input-compact {
  padding: 6px 10px;
  border-radius: 4px;
  border: 1px solid var(--border-default);
  background-color: var(--surface-secondary);
  color: var(--text-primary);
  font-size: 13px;
  width: 100%;
  outline: none;
}
.hf-input-compact:focus {
  border-color: var(--accent-primary);
}

/* Compact form label */
.hf-label-compact {
  font-size: 12px;
  font-weight: 600;
  color: var(--text-muted);
  margin-bottom: 2px;
}

/* Progress bar (track + fill) */
.hf-progress-bar-track {
  height: 4px;
  border-radius: 2px;
  background: var(--surface-tertiary);
  overflow: hidden;
}
.hf-progress-bar-fill {
  height: 100%;
  border-radius: 2px;
  background: var(--accent-primary);
  transition: width 0.5s ease-out;
}
.hf-progress-bar-indeterminate {
  height: 100%;
  border-radius: 2px;
  width: 30%;
  background: var(--accent-primary);
  animation: indeterminate 1.5s ease-in-out infinite;
}
@keyframes indeterminate { 0% { margin-left: 0; } 50% { margin-left: 70%; } 100% { margin-left: 0; } }

/* Pulse dot (animated activity indicator) */
.hf-pulse-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--accent-primary);
  animation: hf-pulse 1.5s ease-in-out infinite;
  flex-shrink: 0;
}
@keyframes hf-pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }

/* Drop overlay (drag-and-drop target) */
.hf-drop-overlay {
  position: absolute;
  inset: 0;
  z-index: 50;
  display: flex;
  align-items: center;
  justify-content: center;
  background: color-mix(in srgb, var(--accent-primary) 8%, transparent);
  border: 2px dashed var(--accent-primary);
  border-radius: 12px;
  pointer-events: none;
}
.hf-drop-card {
  padding: 24px 40px;
  background: var(--surface-primary);
  border-radius: 12px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
  text-align: center;
}

/* Classified row (awaiting extraction confirmation) */
.hf-classified-row {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 16px;
  border-radius: 8px;
  border: 1px solid color-mix(in srgb, var(--accent-primary) 30%, transparent);
  background: color-mix(in srgb, var(--accent-primary) 4%, transparent);
}

/* AI interpretation callout */
.hf-ai-interpretation {
  margin-top: 6px;
  padding: 6px 10px;
  border-radius: 4px;
  background: color-mix(in srgb, var(--accent-primary) 8%, transparent);
  border: 1px solid color-mix(in srgb, var(--accent-primary) 20%, transparent);
  font-size: 12px;
  color: var(--text-secondary);
  display: flex;
  align-items: center;
  gap: 6px;
}

/* Inline uploader panel */
.hf-upload-panel {
  padding: 16px;
  border-radius: 10px;
  border: 1px solid var(--border-default);
  background: var(--surface-secondary);
  margin-top: 8px;
}

/* Checkbox label (inline toggle with text) */
.hf-checkbox-label {
  font-size: 12px;
  display: flex;
  align-items: center;
  gap: 5px;
  color: var(--text-muted);
  cursor: pointer;
  user-select: none;
}

/* Dismiss button (small x / close) */
.hf-btn-dismiss {
  margin-left: auto;
  background: none;
  border: none;
  color: var(--text-muted);
  cursor: pointer;
  font-size: 14px;
  padding: 0;
  line-height: 1;
}

/* Tabular numbers (timers, counters) */
.hf-tabular-nums {
  font-variant-numeric: tabular-nums;
}

/* Content Sources table cells (scoped to avoid conflicts with other hf-th/hf-td) */
.cs-th {
  text-align: left;
  padding: 8px 12px;
  color: var(--text-muted);
  font-weight: 600;
}
.cs-th-right {
  text-align: right;
  padding: 8px 12px;
  color: var(--text-muted);
  font-weight: 600;
}
.cs-td {
  padding: 10px 12px;
}
.cs-td-right {
  padding: 10px 12px;
  text-align: right;
}

/* Flex end justify */
.hf-justify-end {
  justify-content: flex-end;
}
.hf-justify-center {
  justify-content: center;
}

/* RunInspector styles extracted to app/x/pipeline/components/run-inspector.css */


/* Quick Launch styles extracted to app/x/quick-launch/quick-launch.css */

/* ── PromptsSection patterns ────────────────────── */

/* Info cell (compact data display: name/email/trait/target) */
.hf-info-cell {
  padding: 10px;
  border-radius: 6px;
  background: var(--surface-secondary);
}
.hf-info-cell-label {
  font-size: 10px;
  color: var(--text-muted);
  margin-bottom: 2px;
}

/* Warning callout (section-level, larger than banner) */
.hf-callout-warning {
  background: var(--status-warning-bg);
  border: 1px solid var(--status-warning-border);
  border-radius: 12px;
  padding: 16px;
}

/* Prompt history item (expandable row) */
.hf-prompt-history-item {
  padding: 12px;
  background: var(--background);
  border: 1px solid var(--border-default);
  border-radius: 8px;
  cursor: pointer;
}

/* Expand/collapse toggle indicator */
.hf-expand-toggle {
  font-size: 12px;
  color: var(--text-placeholder);
}
.hf-expand-toggle-lg {
  font-size: 16px;
  color: var(--text-muted);
}

/* Prompt card (expandable, with active variant) */
.hf-prompt-card {
  background: var(--surface-primary);
  border: 1px solid var(--border-default);
  border-radius: 12px;
  overflow: hidden;
}
.hf-prompt-card-active {
  border: 2px solid var(--button-primary-bg);
}

/* Prompt card header (clickable region) */
.hf-prompt-card-header {
  padding: 16px;
  cursor: pointer;
  background: var(--surface-primary);
}
.hf-prompt-card-header-active {
  background: var(--status-info-bg);
}

/* Prompt card body (expanded content) */
.hf-prompt-card-body {
  padding: 16px;
  border-top: 1px solid var(--border-default);
  background: var(--surface-primary);
}

/* Transcript card (expandable call row) */
.hf-transcript-card {
  background: var(--surface-primary);
  border: 1px solid var(--border-default);
  border-radius: 12px;
  overflow: hidden;
}

/* Transcript header button (full-width, no visible border) */
.hf-transcript-header-btn {
  width: 100%;
  padding: 16px;
  background: transparent;
  border: none;
  cursor: pointer;
  text-align: left;
}

/* Identity selector button */
.hf-identity-btn {
  padding: 10px;
  background: var(--background);
  border: 1px solid var(--border-default);
  border-radius: 8px;
  cursor: pointer;
  text-align: left;
  width: 100%;
}
.hf-identity-btn-selected {
  background: var(--status-info-bg);
  border-color: var(--status-info-border);
}

/* Prompt display block (readable text display) */
.hf-prompt-display {
  background: var(--background);
  border: 1px solid var(--border-default);
  border-radius: 10px;
  padding: 20px;
  font-size: 14px;
  line-height: 1.6;
  white-space: pre-wrap;
  max-height: 500px;
  overflow: auto;
}

/* Input summary pill (compact stats row) */
.hf-input-summary {
  padding: 8px;
  background: var(--status-success-bg);
  border-radius: 8px;
  font-size: 12px;
}

/* Banner with column layout (for composition inputs) */
.hf-banner-col {
  flex-direction: column;
  align-items: flex-start;
}

/* Info cell larger variant (padding 12, radius 8) */
.hf-info-cell-lg {
  padding: 12px;
  border-radius: 8px;
  background: var(--surface-secondary);
}

/* Text transform utilities */
.hf-uppercase { text-transform: uppercase; }
.hf-capitalize { text-transform: capitalize; }

/* Margin-left utility */
.hf-ml-sm { margin-left: 8px; }

/* Centered empty state hint with maxWidth constraint */
.hf-empty-hint-centered {
  max-width: 400px;
  margin: 8px auto 0;
}

/* Inline-block display (for links styled as buttons) */
.hf-inline-block { display: inline-block; }

/* Grid display utility */
.hf-grid { display: grid; }

/* ── ProgressTab: Score & Exam patterns ───────────────── */

/* Score badge (colored number pill in score rows) */
.hf-score-badge {
  width: 44px;
  padding: 3px 6px;
  text-align: center;
  border-radius: 6px;
  font-weight: 600;
  font-size: 13px;
}

/* Score row button (full-width clickable row in detail panel) */
.hf-score-row-btn {
  width: 100%;
  padding: 10px 16px;
  background: transparent;
  border: none;
  cursor: pointer;
  text-align: left;
}
.hf-score-row-btn-active {
  background: var(--background);
}

/* Score avg display (large number in detail panel header) */
.hf-score-avg {
  font-size: 18px;
  font-weight: 700;
}
.hf-score-avg-sub {
  font-size: 11px;
  font-weight: 400;
  color: var(--text-placeholder);
}

/* Evidence blockquote (left-border quote style) */
.hf-evidence-quote {
  font-size: 12px;
  color: var(--text-secondary);
  padding: 3px 0 3px 8px;
  border-left: 2px solid var(--border-default);
  margin-bottom: 3px;
}

/* Detail panel expanded content area */
.hf-detail-panel-body {
  padding: 8px 16px 12px;
  background: var(--background);
  margin-left: 56px;
}

/* Separator row (border-bottom divider in score list) */
.hf-border-bottom {
  border-bottom: 1px solid var(--border-default);
}

/* Readiness ring overlay (centered absolute text over SVG) */
.hf-ring-overlay {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  font-size: 20px;
}

/* Ring container (relative positioned SVG wrapper) */
.hf-ring-container {
  position: relative;
  width: 80px;
  height: 80px;
  flex-shrink: 0;
}

/* Topic pill (rounded chip for topic display) */
.hf-topic-pill {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 12px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 500;
}

/* Archived goal row */
.hf-archived-goal-row {
  padding: 10px 14px;
  background: var(--surface-primary);
  border: 1px solid var(--border-default);
  border-radius: 8px;
  opacity: 0.7;
}

/* Progress track thin (6px) */
.hf-progress-track-thin {
  height: 6px;
  border-radius: 3px;
  background: var(--surface-tertiary);
  overflow: hidden;
}

/* Progress fill with smooth transition */
.hf-progress-fill-animated {
  height: 100%;
  border-radius: 3px;
  transition: width 0.5s ease-out;
}

/* Session type micro-badge (uppercase, center-aligned) */
.hf-session-badge {
  display: inline-block;
  padding: 2px 6px;
  border-radius: 3px;
  font-size: 10px;
  font-weight: 600;
  text-transform: uppercase;
  min-width: 70px;
  text-align: center;
}

/* Fixed-width column helpers */
.hf-w-140 { width: 140px; }
.hf-w-50 { width: 50px; }
.hf-w-40 { width: 40px; }
.hf-w-36 { width: 36px; }
.hf-w-20 { min-width: 20px; }
.hf-w-18 { min-width: 18px; }
.hf-w-14 { width: 14px; }

/* Opacity utilities */
.hf-opacity-70 { opacity: 0.7; }
.hf-opacity-60 { opacity: 0.6; }

/* Line height utility */
.hf-leading-relaxed { line-height: 1.5; }

/* Grid with gap-4 */
.hf-grid-gap-4 { display: grid; gap: 4px; }

/* Padding utilities */
.hf-p-0 { padding: 0; }
.hf-py-sm { padding-top: 8px; padding-bottom: 8px; }

/* Margin utilities */
.hf-mt-6 { margin-top: 6px; }
.hf-mb-10 { margin-bottom: 10px; }
.hf-mb-12 { margin-bottom: 12px; }

/* Max width constraints */
.hf-max-w-120 { max-width: 120px; }

/* Letter spacing */
.hf-tracking-wide { letter-spacing: 0.03em; }

/* Accent secondary text color */
.hf-text-accent-secondary { color: var(--accent-secondary, #8b5cf6); }

/* Status dot presets */
.hf-status-dot-success {
  background: var(--status-success-text);
  box-shadow: 0 0 8px color-mix(in srgb, var(--status-success-text) 60%, transparent);
}
.hf-status-dot-purple {
  background: var(--accent-secondary, #8b5cf6);
  box-shadow: 0 0 8px var(--accent-secondary, #8b5cf6);
}

/* Micro badge preset: purple */
.hf-micro-badge-purple {
  background: var(--badge-purple-bg);
  color: var(--badge-purple-text);
}

/* Caret toggle (expand/collapse arrow) */
.hf-caret {
  display: inline-block;
  transition: transform 0.2s;
  font-size: 9px;
}
.hf-caret-open {
  transform: rotate(90deg);
}
.hf-caret-lg {
  font-size: inherit;
}
